// Generated by purs bundle 0.14.0
var PS = {};
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Apply"] = $PS["Control.Apply"] || {};
  var exports = $PS["Control.Apply"];                
  var Apply = function (Functor0, apply) {
      this.Functor0 = Functor0;
      this.apply = apply;
  };                      
  var apply = function (dict) {
      return dict.apply;
  };
  exports["Apply"] = Apply;
  exports["apply"] = apply;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Applicative"] = $PS["Control.Applicative"] || {};
  var exports = $PS["Control.Applicative"];
  var Control_Apply = $PS["Control.Apply"];          
  var Applicative = function (Apply0, pure) {
      this.Apply0 = Apply0;
      this.pure = pure;
  };
  var pure = function (dict) {
      return dict.pure;
  };
  var liftA1 = function (dictApplicative) {
      return function (f) {
          return function (a) {
              return Control_Apply.apply(dictApplicative.Apply0())(pure(dictApplicative)(f))(a);
          };
      };
  };
  exports["Applicative"] = Applicative;
  exports["pure"] = pure;
  exports["liftA1"] = liftA1;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Bind"] = $PS["Control.Bind"] || {};
  var exports = $PS["Control.Bind"];                 
  var Bind = function (Apply0, bind) {
      this.Apply0 = Apply0;
      this.bind = bind;
  };                     
  var bind = function (dict) {
      return dict.bind;
  };
  exports["Bind"] = Bind;
  exports["bind"] = bind;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Semigroupoid"] = $PS["Control.Semigroupoid"] || {};
  var exports = $PS["Control.Semigroupoid"];
  var Semigroupoid = function (compose) {
      this.compose = compose;
  };
  var semigroupoidFn = new Semigroupoid(function (f) {
      return function (g) {
          return function (x) {
              return f(g(x));
          };
      };
  });
  exports["semigroupoidFn"] = semigroupoidFn;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Category"] = $PS["Control.Category"] || {};
  var exports = $PS["Control.Category"];
  var Control_Semigroupoid = $PS["Control.Semigroupoid"];                
  var Category = function (Semigroupoid0, identity) {
      this.Semigroupoid0 = Semigroupoid0;
      this.identity = identity;
  };
  var identity = function (dict) {
      return dict.identity;
  };
  var categoryFn = new Category(function () {
      return Control_Semigroupoid.semigroupoidFn;
  }, function (x) {
      return x;
  });
  exports["identity"] = identity;
  exports["categoryFn"] = categoryFn;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Monad"] = $PS["Control.Monad"] || {};
  var exports = $PS["Control.Monad"];
  var Control_Applicative = $PS["Control.Applicative"];
  var Control_Bind = $PS["Control.Bind"];                
  var Monad = function (Applicative0, Bind1) {
      this.Applicative0 = Applicative0;
      this.Bind1 = Bind1;
  };
  var ap = function (dictMonad) {
      return function (f) {
          return function (a) {
              return Control_Bind.bind(dictMonad.Bind1())(f)(function (f$prime) {
                  return Control_Bind.bind(dictMonad.Bind1())(a)(function (a$prime) {
                      return Control_Applicative.pure(dictMonad.Applicative0())(f$prime(a$prime));
                  });
              });
          };
      };
  };
  exports["Monad"] = Monad;
  exports["ap"] = ap;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Monad.Reader.Class"] = $PS["Control.Monad.Reader.Class"] || {};
  var exports = $PS["Control.Monad.Reader.Class"];       
  var MonadAsk = function (Monad0, ask) {
      this.Monad0 = Monad0;
      this.ask = ask;
  };
  var ask = function (dict) {
      return dict.ask;
  };
  exports["ask"] = ask;
  exports["MonadAsk"] = MonadAsk;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Monad.Trans.Class"] = $PS["Control.Monad.Trans.Class"] || {};
  var exports = $PS["Control.Monad.Trans.Class"];
  var MonadTrans = function (lift) {
      this.lift = lift;
  };
  var lift = function (dict) {
      return dict.lift;
  };
  exports["lift"] = lift;
  exports["MonadTrans"] = MonadTrans;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Function"] = $PS["Data.Function"] || {};
  var exports = $PS["Data.Function"];
  var $$const = function (a) {
      return function (v) {
          return a;
      };
  };
  exports["const"] = $$const;
})(PS);
(function(exports) {
  "use strict";

  exports.unit = {};
})(PS["Data.Unit"] = PS["Data.Unit"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Unit"] = $PS["Data.Unit"] || {};
  var exports = $PS["Data.Unit"];
  var $foreign = $PS["Data.Unit"];
  exports["unit"] = $foreign.unit;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Functor"] = $PS["Data.Functor"] || {};
  var exports = $PS["Data.Functor"];
  var Data_Function = $PS["Data.Function"];
  var Data_Unit = $PS["Data.Unit"];                  
  var Functor = function (map) {
      this.map = map;
  };
  var map = function (dict) {
      return dict.map;
  };
  var mapFlipped = function (dictFunctor) {
      return function (fa) {
          return function (f) {
              return map(dictFunctor)(f)(fa);
          };
      };
  };
  var $$void = function (dictFunctor) {
      return map(dictFunctor)(Data_Function["const"](Data_Unit.unit));
  };
  exports["Functor"] = Functor;
  exports["map"] = map;
  exports["mapFlipped"] = mapFlipped;
  exports["void"] = $$void;
})(PS);
(function(exports) {
  "use strict";

  exports.pureE = function (a) {
    return function () {
      return a;
    };
  };

  exports.bindE = function (a) {
    return function (f) {
      return function () {
        return f(a())();
      };
    };
  };
})(PS["Effect"] = PS["Effect"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Effect"] = $PS["Effect"] || {};
  var exports = $PS["Effect"];
  var $foreign = $PS["Effect"];
  var Control_Applicative = $PS["Control.Applicative"];
  var Control_Apply = $PS["Control.Apply"];
  var Control_Bind = $PS["Control.Bind"];
  var Control_Monad = $PS["Control.Monad"];
  var Data_Functor = $PS["Data.Functor"];                    
  var monadEffect = new Control_Monad.Monad(function () {
      return applicativeEffect;
  }, function () {
      return bindEffect;
  });
  var bindEffect = new Control_Bind.Bind(function () {
      return applyEffect;
  }, $foreign.bindE);
  var applyEffect = new Control_Apply.Apply(function () {
      return functorEffect;
  }, Control_Monad.ap(monadEffect));
  var applicativeEffect = new Control_Applicative.Applicative(function () {
      return applyEffect;
  }, $foreign.pureE);
  var functorEffect = new Data_Functor.Functor(Control_Applicative.liftA1(applicativeEffect));
  exports["functorEffect"] = functorEffect;
  exports["applicativeEffect"] = applicativeEffect;
  exports["bindEffect"] = bindEffect;
  exports["monadEffect"] = monadEffect;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Effect.Class"] = $PS["Effect.Class"] || {};
  var exports = $PS["Effect.Class"];
  var Control_Category = $PS["Control.Category"];
  var Effect = $PS["Effect"];                
  var MonadEffect = function (Monad0, liftEffect) {
      this.Monad0 = Monad0;
      this.liftEffect = liftEffect;
  };
  var monadEffectEffect = new MonadEffect(function () {
      return Effect.monadEffect;
  }, Control_Category.identity(Control_Category.categoryFn));
  var liftEffect = function (dict) {
      return dict.liftEffect;
  };
  exports["liftEffect"] = liftEffect;
  exports["MonadEffect"] = MonadEffect;
  exports["monadEffectEffect"] = monadEffectEffect;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Control.Monad.Reader.Trans"] = $PS["Control.Monad.Reader.Trans"] || {};
  var exports = $PS["Control.Monad.Reader.Trans"];
  var Control_Applicative = $PS["Control.Applicative"];
  var Control_Apply = $PS["Control.Apply"];
  var Control_Bind = $PS["Control.Bind"];
  var Control_Monad = $PS["Control.Monad"];
  var Control_Monad_Reader_Class = $PS["Control.Monad.Reader.Class"];
  var Control_Monad_Trans_Class = $PS["Control.Monad.Trans.Class"];
  var Data_Function = $PS["Data.Function"];
  var Data_Functor = $PS["Data.Functor"];
  var Effect_Class = $PS["Effect.Class"];                
  var ReaderT = function (x) {
      return x;
  };
  var runReaderT = function (v) {
      return v;
  }; 
  var monadTransReaderT = new Control_Monad_Trans_Class.MonadTrans(function (dictMonad) {
      return function ($64) {
          return ReaderT(Data_Function["const"]($64));
      };
  });
  var mapReaderT = function (f) {
      return function (v) {
          return function ($65) {
              return f(v($65));
          };
      };
  };
  var functorReaderT = function (dictFunctor) {
      return new Data_Functor.Functor((function () {
          var $66 = Data_Functor.map(dictFunctor);
          return function ($67) {
              return mapReaderT($66($67));
          };
      })());
  };
  var applyReaderT = function (dictApply) {
      return new Control_Apply.Apply(function () {
          return functorReaderT(dictApply.Functor0());
      }, function (v) {
          return function (v1) {
              return function (r) {
                  return Control_Apply.apply(dictApply)(v(r))(v1(r));
              };
          };
      });
  };
  var bindReaderT = function (dictBind) {
      return new Control_Bind.Bind(function () {
          return applyReaderT(dictBind.Apply0());
      }, function (v) {
          return function (k) {
              return function (r) {
                  return Control_Bind.bind(dictBind)(v(r))(function (a) {
                      var v1 = k(a);
                      return v1(r);
                  });
              };
          };
      });
  };
  var applicativeReaderT = function (dictApplicative) {
      return new Control_Applicative.Applicative(function () {
          return applyReaderT(dictApplicative.Apply0());
      }, (function () {
          var $71 = Control_Applicative.pure(dictApplicative);
          return function ($72) {
              return ReaderT(Data_Function["const"]($71($72)));
          };
      })());
  };
  var monadReaderT = function (dictMonad) {
      return new Control_Monad.Monad(function () {
          return applicativeReaderT(dictMonad.Applicative0());
      }, function () {
          return bindReaderT(dictMonad.Bind1());
      });
  };
  var monadAskReaderT = function (dictMonad) {
      return new Control_Monad_Reader_Class.MonadAsk(function () {
          return monadReaderT(dictMonad);
      }, Control_Applicative.pure(dictMonad.Applicative0()));
  };
  var monadEffectReader = function (dictMonadEffect) {
      return new Effect_Class.MonadEffect(function () {
          return monadReaderT(dictMonadEffect.Monad0());
      }, (function () {
          var $74 = Control_Monad_Trans_Class.lift(monadTransReaderT)(dictMonadEffect.Monad0());
          var $75 = Effect_Class.liftEffect(dictMonadEffect);
          return function ($76) {
              return $74($75($76));
          };
      })());
  };
  exports["runReaderT"] = runReaderT;
  exports["applicativeReaderT"] = applicativeReaderT;
  exports["bindReaderT"] = bindReaderT;
  exports["monadEffectReader"] = monadEffectReader;
  exports["monadAskReaderT"] = monadAskReaderT;
})(PS);
(function(exports) {
  "use strict";

  exports.replaceAll = function (s1) {
    return function (s2) {
      return function (s3) {
        return s3.replace(new RegExp(s1.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"), "g"), s2); // eslint-disable-line no-useless-escape
      };
    };
  };

  exports.trim = function (s) {
    return s.trim();
  };

  exports.joinWith = function (s) {
    return function (xs) {
      return xs.join(s);
    };
  };
})(PS["Data.String.Common"] = PS["Data.String.Common"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.String.Common"] = $PS["Data.String.Common"] || {};
  var exports = $PS["Data.String.Common"];
  var $foreign = $PS["Data.String.Common"];
  exports["replaceAll"] = $foreign.replaceAll;
  exports["trim"] = $foreign.trim;
  exports["joinWith"] = $foreign.joinWith;
})(PS);
(function($PS) {
  "use strict";
  $PS["Css"] = $PS["Css"] || {};
  var exports = $PS["Css"];
  var Data_String_Common = $PS["Data.String.Common"];                
  var stylesheet = Data_String_Common.joinWith("");
  var styles = function (xs) {
      return ".& {" + (Data_String_Common.joinWith("")(xs) + "}");
  };
  var style = function (x) {
      return function (y) {
          return x + (":" + (y + ";"));
      };
  };
  var onHover = function (xs) {
      return ".&:hover {" + (Data_String_Common.joinWith("")(xs) + "}");
  };
  var mediaQuery = function (l) {
      return function (r) {
          return function (xs) {
              return "@media only screen and (" + (l + (":" + (r + (") {" + (Data_String_Common.joinWith("")(xs) + "}")))));
          };
      };
  };
  var displayGrid = style("display")("grid");
  var displayFlex = style("display")("flex");
  exports["stylesheet"] = stylesheet;
  exports["styles"] = styles;
  exports["onHover"] = onHover;
  exports["mediaQuery"] = mediaQuery;
  exports["style"] = style;
  exports["displayFlex"] = displayFlex;
  exports["displayGrid"] = displayGrid;
})(PS);
(function(exports) {
  "use strict";

  var replicateFill = function (count) {
    return function (value) {
      if (count < 1) {
        return [];
      }
      var result = new Array(count);
      return result.fill(value);
    };
  };

  var replicatePolyfill = function (count) {
    return function (value) {
      var result = [];
      var n = 0;
      for (var i = 0; i < count; i++) {
        result[n++] = value;
      }
      return result;
    };
  };

  // In browsers that have Array.prototype.fill we use it, as it's faster.
  exports.replicate = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;

  //------------------------------------------------------------------------------
  // Array size ------------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.length = function (xs) {
    return xs.length;
  };

  //------------------------------------------------------------------------------
  // Indexed operations ----------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.indexImpl = function (just) {
    return function (nothing) {
      return function (xs) {
        return function (i) {
          return i < 0 || i >= xs.length ? nothing :  just(xs[i]);
        };
      };
    };
  };
})(PS["Data.Array"] = PS["Data.Array"] || {});
(function(exports) {
  "use strict";

  exports.pushAll = function (as) {
    return function (xs) {
      return function () {
        return xs.push.apply(xs, as);
      };
    };
  };

  exports.unsafeFreeze = function (xs) {
    return function () {
      return xs;
    };
  };

  function copyImpl(xs) {
    return function () {
      return xs.slice();
    };
  }                         

  exports.thaw = copyImpl;
})(PS["Data.Array.ST"] = PS["Data.Array.ST"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Array.ST"] = $PS["Data.Array.ST"] || {};
  var exports = $PS["Data.Array.ST"];
  var $foreign = $PS["Data.Array.ST"];                     
  var withArray = function (f) {
      return function (xs) {
          return function __do() {
              var result = $foreign.thaw(xs)();
              f(result)();
              return $foreign.unsafeFreeze(result)();
          };
      };
  };
  var push = function (a) {
      return $foreign.pushAll([ a ]);
  };
  exports["withArray"] = withArray;
  exports["push"] = push;
})(PS);
(function(exports) {
  "use strict";

  exports.foldrArray = function (f) {
    return function (init) {
      return function (xs) {
        var acc = init;
        var len = xs.length;
        for (var i = len - 1; i >= 0; i--) {
          acc = f(xs[i])(acc);
        }
        return acc;
      };
    };
  };

  exports.foldlArray = function (f) {
    return function (init) {
      return function (xs) {
        var acc = init;
        var len = xs.length;
        for (var i = 0; i < len; i++) {
          acc = f(acc)(xs[i]);
        }
        return acc;
      };
    };
  };
})(PS["Data.Foldable"] = PS["Data.Foldable"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Monoid"] = $PS["Data.Monoid"] || {};
  var exports = $PS["Data.Monoid"];
  var mempty = function (dict) {
      return dict.mempty;
  };
  exports["mempty"] = mempty;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Semigroup"] = $PS["Data.Semigroup"] || {};
  var exports = $PS["Data.Semigroup"];
  var append = function (dict) {
      return dict.append;
  };
  exports["append"] = append;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Foldable"] = $PS["Data.Foldable"] || {};
  var exports = $PS["Data.Foldable"];
  var $foreign = $PS["Data.Foldable"];
  var Data_Monoid = $PS["Data.Monoid"];
  var Data_Semigroup = $PS["Data.Semigroup"];      
  var Foldable = function (foldMap, foldl, foldr) {
      this.foldMap = foldMap;
      this.foldl = foldl;
      this.foldr = foldr;
  };
  var foldr = function (dict) {
      return dict.foldr;
  }; 
  var foldMapDefaultR = function (dictFoldable) {
      return function (dictMonoid) {
          return function (f) {
              return foldr(dictFoldable)(function (x) {
                  return function (acc) {
                      return Data_Semigroup.append(dictMonoid.Semigroup0())(f(x))(acc);
                  };
              })(Data_Monoid.mempty(dictMonoid));
          };
      };
  };
  var foldableArray = new Foldable(function (dictMonoid) {
      return foldMapDefaultR(foldableArray)(dictMonoid);
  }, $foreign.foldlArray, $foreign.foldrArray);
  exports["foldr"] = foldr;
  exports["foldableArray"] = foldableArray;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Maybe"] = $PS["Data.Maybe"] || {};
  var exports = $PS["Data.Maybe"];                 
  var Nothing = (function () {
      function Nothing() {

      };
      Nothing.value = new Nothing();
      return Nothing;
  })();
  var Just = (function () {
      function Just(value0) {
          this.value0 = value0;
      };
      Just.create = function (value0) {
          return new Just(value0);
      };
      return Just;
  })();
  exports["Nothing"] = Nothing;
  exports["Just"] = Just;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Array"] = $PS["Data.Array"] || {};
  var exports = $PS["Data.Array"];
  var $foreign = $PS["Data.Array"];
  var Data_Array_ST = $PS["Data.Array.ST"];
  var Data_Foldable = $PS["Data.Foldable"];
  var Data_Maybe = $PS["Data.Maybe"];
  var snoc = function (xs) {
      return function (x) {
          return Data_Array_ST.withArray(Data_Array_ST.push(x))(xs)();
      };
  };
  var index = $foreign.indexImpl(Data_Maybe.Just.create)(Data_Maybe.Nothing.value);
  var foldr = Data_Foldable.foldr(Data_Foldable.foldableArray);
  exports["snoc"] = snoc;
  exports["index"] = index;
  exports["foldr"] = foldr;
  exports["replicate"] = $foreign.replicate;
  exports["length"] = $foreign.length;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Boolean"] = $PS["Data.Boolean"] || {};
  var exports = $PS["Data.Boolean"];
  var otherwise = true;
  exports["otherwise"] = otherwise;
})(PS);
(function(exports) {
  "use strict";

  exports.topInt = 2147483647;
  exports.bottomInt = -2147483648;

  exports.topChar = String.fromCharCode(65535);
  exports.bottomChar = String.fromCharCode(0);
})(PS["Data.Bounded"] = PS["Data.Bounded"] || {});
(function(exports) {
  "use strict";

  var unsafeCompareImpl = function (lt) {
    return function (eq) {
      return function (gt) {
        return function (x) {
          return function (y) {
            return x < y ? lt : x === y ? eq : gt;
          };
        };
      };
    };
  };                                         
  exports.ordIntImpl = unsafeCompareImpl;   
  exports.ordCharImpl = unsafeCompareImpl;
})(PS["Data.Ord"] = PS["Data.Ord"] || {});
(function(exports) {
  "use strict";

  var refEq = function (r1) {
    return function (r2) {
      return r1 === r2;
    };
  };                            
  exports.eqIntImpl = refEq;   
  exports.eqCharImpl = refEq;
})(PS["Data.Eq"] = PS["Data.Eq"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Eq"] = $PS["Data.Eq"] || {};
  var exports = $PS["Data.Eq"];
  var $foreign = $PS["Data.Eq"];
  var Eq = function (eq) {
      this.eq = eq;
  };                                           
  var eqInt = new Eq($foreign.eqIntImpl);
  var eqChar = new Eq($foreign.eqCharImpl);
  exports["eqInt"] = eqInt;
  exports["eqChar"] = eqChar;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Ordering"] = $PS["Data.Ordering"] || {};
  var exports = $PS["Data.Ordering"];              
  var LT = (function () {
      function LT() {

      };
      LT.value = new LT();
      return LT;
  })();
  var GT = (function () {
      function GT() {

      };
      GT.value = new GT();
      return GT;
  })();
  var EQ = (function () {
      function EQ() {

      };
      EQ.value = new EQ();
      return EQ;
  })();
  exports["LT"] = LT;
  exports["GT"] = GT;
  exports["EQ"] = EQ;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Ord"] = $PS["Data.Ord"] || {};
  var exports = $PS["Data.Ord"];
  var $foreign = $PS["Data.Ord"];
  var Data_Eq = $PS["Data.Eq"];
  var Data_Ordering = $PS["Data.Ordering"];
  var Ord = function (Eq0, compare) {
      this.Eq0 = Eq0;
      this.compare = compare;
  };                                                                                                 
  var ordInt = new Ord(function () {
      return Data_Eq.eqInt;
  }, $foreign.ordIntImpl(Data_Ordering.LT.value)(Data_Ordering.EQ.value)(Data_Ordering.GT.value));
  var ordChar = new Ord(function () {
      return Data_Eq.eqChar;
  }, $foreign.ordCharImpl(Data_Ordering.LT.value)(Data_Ordering.EQ.value)(Data_Ordering.GT.value));
  exports["ordInt"] = ordInt;
  exports["ordChar"] = ordChar;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Bounded"] = $PS["Data.Bounded"] || {};
  var exports = $PS["Data.Bounded"];
  var $foreign = $PS["Data.Bounded"];
  var Data_Ord = $PS["Data.Ord"];
  var Bounded = function (Ord0, bottom, top) {
      this.Ord0 = Ord0;
      this.bottom = bottom;
      this.top = top;
  };
  var top = function (dict) {
      return dict.top;
  };                                            
  var boundedInt = new Bounded(function () {
      return Data_Ord.ordInt;
  }, $foreign.bottomInt, $foreign.topInt);
  var boundedChar = new Bounded(function () {
      return Data_Ord.ordChar;
  }, $foreign.bottomChar, $foreign.topChar);
  var bottom = function (dict) {
      return dict.bottom;
  };
  exports["bottom"] = bottom;
  exports["top"] = top;
  exports["boundedInt"] = boundedInt;
  exports["boundedChar"] = boundedChar;
})(PS);
(function(exports) {
  "use strict";

  exports.toCharCode = function (c) {
    return c.charCodeAt(0);
  };

  exports.fromCharCode = function (c) {
    return String.fromCharCode(c);
  };
})(PS["Data.Enum"] = PS["Data.Enum"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Enum"] = $PS["Data.Enum"] || {};
  var exports = $PS["Data.Enum"];
  var $foreign = $PS["Data.Enum"];
  var Data_Bounded = $PS["Data.Bounded"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Ord = $PS["Data.Ord"];                  
  var Enum = function (Ord0, pred, succ) {
      this.Ord0 = Ord0;
      this.pred = pred;
      this.succ = succ;
  };
  var BoundedEnum = function (Bounded0, Enum1, cardinality, fromEnum, toEnum) {
      this.Bounded0 = Bounded0;
      this.Enum1 = Enum1;
      this.cardinality = cardinality;
      this.fromEnum = fromEnum;
      this.toEnum = toEnum;
  }; 
  var fromEnum = function (dict) {
      return dict.fromEnum;
  };
  var defaultSucc = function (toEnum$prime) {
      return function (fromEnum$prime) {
          return function (a) {
              return toEnum$prime(fromEnum$prime(a) + 1 | 0);
          };
      };
  };
  var defaultPred = function (toEnum$prime) {
      return function (fromEnum$prime) {
          return function (a) {
              return toEnum$prime(fromEnum$prime(a) - 1 | 0);
          };
      };
  };
  var charToEnum = function (v) {
      if (v >= Data_Bounded.bottom(Data_Bounded.boundedInt) && v <= Data_Bounded.top(Data_Bounded.boundedInt)) {
          return new Data_Maybe.Just($foreign.fromCharCode(v));
      };
      return Data_Maybe.Nothing.value;
  };
  var enumChar = new Enum(function () {
      return Data_Ord.ordChar;
  }, defaultPred(charToEnum)($foreign.toCharCode), defaultSucc(charToEnum)($foreign.toCharCode));
  var boundedEnumChar = new BoundedEnum(function () {
      return Data_Bounded.boundedChar;
  }, function () {
      return enumChar;
  }, $foreign.toCharCode(Data_Bounded.top(Data_Bounded.boundedChar)) - $foreign.toCharCode(Data_Bounded.bottom(Data_Bounded.boundedChar)) | 0, $foreign.toCharCode, charToEnum);
  exports["fromEnum"] = fromEnum;
  exports["boundedEnumChar"] = boundedEnumChar;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Char"] = $PS["Data.Char"] || {};
  var exports = $PS["Data.Char"];
  var Data_Enum = $PS["Data.Enum"];                
  var toCharCode = Data_Enum.fromEnum(Data_Enum.boundedEnumChar);
  exports["toCharCode"] = toCharCode;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Either"] = $PS["Data.Either"] || {};
  var exports = $PS["Data.Either"];                
  var Left = (function () {
      function Left(value0) {
          this.value0 = value0;
      };
      Left.create = function (value0) {
          return new Left(value0);
      };
      return Left;
  })();
  var Right = (function () {
      function Right(value0) {
          this.value0 = value0;
      };
      Right.create = function (value0) {
          return new Right(value0);
      };
      return Right;
  })();
  var either = function (v) {
      return function (v1) {
          return function (v2) {
              if (v2 instanceof Left) {
                  return v(v2.value0);
              };
              if (v2 instanceof Right) {
                  return v1(v2.value0);
              };
              throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): " + [ v.constructor.name, v1.constructor.name, v2.constructor.name ]);
          };
      };
  };
  exports["Left"] = Left;
  exports["Right"] = Right;
  exports["either"] = either;
})(PS);
(function(exports) {
  "use strict";

  exports.toStringAs = function (radix) {
    return function (i) {
      return i.toString(radix);
    };
  };
})(PS["Data.Int"] = PS["Data.Int"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Int"] = $PS["Data.Int"] || {};
  var exports = $PS["Data.Int"];
  var $foreign = $PS["Data.Int"];
  var base36 = 36;
  exports["base36"] = base36;
  exports["toStringAs"] = $foreign.toStringAs;
})(PS);
(function(exports) {
  "use strict";

  exports.defer = function (thunk) {
    var v = null;
    return function() {
      if (thunk === undefined) return v;

      v = thunk();
      thunk = undefined; // eslint-disable-line no-param-reassign
      return v;
    };
  };

  exports.force = function (l) {
    return l();
  };
})(PS["Data.Lazy"] = PS["Data.Lazy"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Lazy"] = $PS["Data.Lazy"] || {};
  var exports = $PS["Data.Lazy"];
  var $foreign = $PS["Data.Lazy"];
  exports["defer"] = $foreign.defer;
  exports["force"] = $foreign.force;
})(PS);
(function(exports) {
  /* eslint-disable no-eq-null, eqeqeq */

  "use strict";

  exports["null"] = null;

  exports.nullable = function (a, r, f) {
    return a == null ? r : f(a);
  };
})(PS["Data.Nullable"] = PS["Data.Nullable"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Nullable"] = $PS["Data.Nullable"] || {};
  var exports = $PS["Data.Nullable"];
  var $foreign = $PS["Data.Nullable"];
  var Data_Maybe = $PS["Data.Maybe"];                                   
  var toMaybe = function (n) {
      return $foreign.nullable(n, Data_Maybe.Nothing.value, Data_Maybe.Just.create);
  };
  exports["toMaybe"] = toMaybe;
  exports["null"] = $foreign["null"];
})(PS);
(function(exports) {
  "use strict";

  exports.showIntImpl = function (n) {
    return n.toString();
  };
})(PS["Data.Show"] = PS["Data.Show"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Show"] = $PS["Data.Show"] || {};
  var exports = $PS["Data.Show"];
  var $foreign = $PS["Data.Show"];
  var Show = function (show) {
      this.show = show;
  };                                                 
  var showInt = new Show($foreign.showIntImpl);
  var show = function (dict) {
      return dict.show;
  };
  exports["show"] = show;
  exports["showInt"] = showInt;
})(PS);
(function(exports) {
  "use strict";

  exports.toCharArray = function (s) {
    return s.split("");
  };
})(PS["Data.String.CodeUnits"] = PS["Data.String.CodeUnits"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.String.CodeUnits"] = $PS["Data.String.CodeUnits"] || {};
  var exports = $PS["Data.String.CodeUnits"];
  var $foreign = $PS["Data.String.CodeUnits"];
  exports["toCharArray"] = $foreign.toCharArray;
})(PS);
(function(exports) {
  "use strict";

  exports.regexImpl = function (left) {
    return function (right) {
      return function (s1) {
        return function (s2) {
          try {
            return right(new RegExp(s1, s2));
          } catch (e) {
            return left(e.message);
          }
        };
      };
    };
  };

  exports.replace = function (r) {
    return function (s1) {
      return function (s2) {
        return s2.replace(r, s1);
      };
    };
  };
})(PS["Data.String.Regex"] = PS["Data.String.Regex"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.String.Regex"] = $PS["Data.String.Regex"] || {};
  var exports = $PS["Data.String.Regex"];
  var $foreign = $PS["Data.String.Regex"];
  var Data_Either = $PS["Data.Either"];                                                        
  var renderFlags = function (v) {
      return (function () {
          if (v.value0.global) {
              return "g";
          };
          return "";
      })() + ((function () {
          if (v.value0.ignoreCase) {
              return "i";
          };
          return "";
      })() + ((function () {
          if (v.value0.multiline) {
              return "m";
          };
          return "";
      })() + ((function () {
          if (v.value0.dotAll) {
              return "s";
          };
          return "";
      })() + ((function () {
          if (v.value0.sticky) {
              return "y";
          };
          return "";
      })() + (function () {
          if (v.value0.unicode) {
              return "u";
          };
          return "";
      })()))));
  };
  var regex = function (s) {
      return function (f) {
          return $foreign.regexImpl(Data_Either.Left.create)(Data_Either.Right.create)(s)(renderFlags(f));
      };
  };
  exports["regex"] = regex;
  exports["replace"] = $foreign.replace;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.String.Regex.Flags"] = $PS["Data.String.Regex.Flags"] || {};
  var exports = $PS["Data.String.Regex.Flags"];                      
  var RegexFlags = (function () {
      function RegexFlags(value0) {
          this.value0 = value0;
      };
      RegexFlags.create = function (value0) {
          return new RegexFlags(value0);
      };
      return RegexFlags;
  })();
  var global = new RegexFlags({
      global: true,
      ignoreCase: false,
      multiline: false,
      dotAll: false,
      sticky: false,
      unicode: false
  });
  exports["global"] = global;
})(PS);
(function(exports) {
  "use strict";

  // module Partial.Unsafe

  exports._unsafePartial = function (f) {
    return f();
  };
})(PS["Partial.Unsafe"] = PS["Partial.Unsafe"] || {});
(function(exports) {
  "use strict";

  // module Partial

  exports._crashWith = function (msg) {
    throw new Error(msg);
  };
})(PS["Partial"] = PS["Partial"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Partial"] = $PS["Partial"] || {};
  var exports = $PS["Partial"];
  var $foreign = $PS["Partial"];         
  var crashWith = function (dictPartial) {
      return $foreign["_crashWith"];
  };
  exports["crashWith"] = crashWith;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Partial.Unsafe"] = $PS["Partial.Unsafe"] || {};
  var exports = $PS["Partial.Unsafe"];
  var $foreign = $PS["Partial.Unsafe"];
  var Partial = $PS["Partial"];                
  var unsafePartial = $foreign["_unsafePartial"];
  var unsafeCrashWith = function (msg) {
      return unsafePartial(function (dictPartial) {
          return Partial.crashWith()(msg);
      });
  };
  exports["unsafeCrashWith"] = unsafeCrashWith;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.String.Regex.Unsafe"] = $PS["Data.String.Regex.Unsafe"] || {};
  var exports = $PS["Data.String.Regex.Unsafe"];
  var Control_Category = $PS["Control.Category"];
  var Data_Either = $PS["Data.Either"];
  var Data_String_Regex = $PS["Data.String.Regex"];
  var Partial_Unsafe = $PS["Partial.Unsafe"];                
  var unsafeRegex = function (s) {
      return function (f) {
          return Data_Either.either(Partial_Unsafe.unsafeCrashWith)(Control_Category.identity(Control_Category.categoryFn))(Data_String_Regex.regex(s)(f));
      };
  };
  exports["unsafeRegex"] = unsafeRegex;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Data.Tuple"] = $PS["Data.Tuple"] || {};
  var exports = $PS["Data.Tuple"];                 
  var Tuple = (function () {
      function Tuple(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      Tuple.create = function (value0) {
          return function (value1) {
              return new Tuple(value0, value1);
          };
      };
      return Tuple;
  })();                                                                                                 
  var fst = function (v) {
      return v.value0;
  };
  exports["Tuple"] = Tuple;
  exports["fst"] = fst;
})(PS);
(function(exports) {
  "use strict";

  exports.error = function (msg) {
    return new Error(msg);
  };

  exports.throwException = function (e) {
    return function () {
      throw e;
    };
  };
})(PS["Effect.Exception"] = PS["Effect.Exception"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Effect.Exception"] = $PS["Effect.Exception"] || {};
  var exports = $PS["Effect.Exception"];
  var $foreign = $PS["Effect.Exception"];
  var $$throw = function ($2) {
      return $foreign.throwException($foreign.error($2));
  };
  exports["throw"] = $$throw;
})(PS);
(function(exports) {
  "use strict";

  // module Unsafe.Coerce

  exports.unsafeCoerce = function (x) {
    return x;
  };
})(PS["Unsafe.Coerce"] = PS["Unsafe.Coerce"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Unsafe.Coerce"] = $PS["Unsafe.Coerce"] || {};
  var exports = $PS["Unsafe.Coerce"];
  var $foreign = $PS["Unsafe.Coerce"];
  exports["unsafeCoerce"] = $foreign.unsafeCoerce;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Foreign"] = $PS["Foreign"] || {};
  var exports = $PS["Foreign"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];
  var unsafeToForeign = Unsafe_Coerce.unsafeCoerce;
  var unsafeFromForeign = Unsafe_Coerce.unsafeCoerce;
  exports["unsafeToForeign"] = unsafeToForeign;
  exports["unsafeFromForeign"] = unsafeFromForeign;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Class.LProxy"] = $PS["Grain.Class.LProxy"] || {};
  var exports = $PS["Grain.Class.LProxy"];
  var LProxy = (function () {
      function LProxy() {

      };
      LProxy.value = new LProxy();
      return LProxy;
  })();
  var LocalGrain = function (initialState, typeRefOf) {
      this.initialState = initialState;
      this.typeRefOf = typeRefOf;
  };
  var typeRefOf = function (dict) {
      return dict.typeRefOf;
  };
  var initialState = function (dict) {
      return dict.initialState;
  };
  exports["LProxy"] = LProxy;
  exports["LocalGrain"] = LocalGrain;
  exports["initialState"] = initialState;
  exports["typeRefOf"] = typeRefOf;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Class"] = $PS["Grain.Class"] || {};
  var exports = $PS["Grain.Class"];
  var Grain_Class_LProxy = $PS["Grain.Class.LProxy"];                
  var Grain = function (initialState, typeRefOf, which) {
      this.initialState = initialState;
      this.typeRefOf = typeRefOf;
      this.which = which;
  };
  var NonKeyedGrain = function (Grain0) {
      this.Grain0 = Grain0;
  };
  var which = function (dict) {
      return dict.which;
  };
  var typeRefOf = function (dict) {
      return dict.typeRefOf;
  };
  var initialState = function (dict) {
      return dict.initialState;
  };
  var grainLProxy = function (dictLocalGrain) {
      return new Grain(Grain_Class_LProxy.initialState(dictLocalGrain), Grain_Class_LProxy.typeRefOf(dictLocalGrain), function (v) {
          return function (v1) {
              return v1.local;
          };
      });
  };
  var nonKeyedGrainLProxy = function (dictLocalGrain) {
      return new NonKeyedGrain(function () {
          return grainLProxy(dictLocalGrain);
      });
  };
  exports["initialState"] = initialState;
  exports["typeRefOf"] = typeRefOf;
  exports["which"] = which;
  exports["nonKeyedGrainLProxy"] = nonKeyedGrainLProxy;
})(PS);
(function(exports) {
  'use strict';

  exports.new = function() {
    return {};
  }

  exports.keys = function(o) {
    return Object.keys(o);
  }

  exports.values = function(o) {
    return Object.values(o);
  }

  exports.has = function(k, o) {
    return !!o[k];
  }

  exports.getImpl = function(k, o) {
    return o[k];
  }

  exports.set = function(k, v, o) {
    o[k] = v;
  }

  exports.del = function(k, o) {
    delete o[k];
  }

  exports.unsafeGet = function(k, o) {
    return o[k];
  }
})(PS["Grain.Internal.MObject"] = PS["Grain.Internal.MObject"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.MObject"] = $PS["Grain.Internal.MObject"] || {};
  var exports = $PS["Grain.Internal.MObject"];
  var $foreign = $PS["Grain.Internal.MObject"];
  var Data_Nullable = $PS["Data.Nullable"];                
  var get = function (k, o) {
      var nullable = $foreign.getImpl(k, o);
      return Data_Nullable.toMaybe(nullable);
  };
  exports["get"] = get;
  exports["new"] = $foreign["new"];
  exports["keys"] = $foreign.keys;
  exports["values"] = $foreign.values;
  exports["has"] = $foreign.has;
  exports["set"] = $foreign.set;
  exports["del"] = $foreign.del;
  exports["unsafeGet"] = $foreign.unsafeGet;
})(PS);
(function(exports) {
  'use strict';

  exports.byIdx = function(xs, i) {
    return xs[i];
  }

  exports.byIdxNullable = function(xs, i) {
    return xs[i];
  }

  exports.keyNullable = function(f, i, a) {
    if (a === null || a === undefined) {
      return null;
    }
    return f(i, a);
  }

  exports.mapNullable = function(f, a) {
    if (a === null || a === undefined) {
      return null;
    }
    return f(a);
  }

  exports.eqNullable = function(a, b) {
    if (a === null || a === undefined || b === null || b === undefined) {
      return false;
    }
    return a === b;
  }

  var readOnlyProps = { style: true, list: true, form: true, dropzone: true }

  exports.shouldAttribute = function(name) {
    return readOnlyProps[name] === true;
  }

  exports.raf = function(f) {
    window.requestAnimationFrame(f);
  }

  exports.head = function() {
    return document.head;
  };

  exports.createTextNode = function(text) {
    return document.createTextNode(text);
  }

  exports.createElement = function(tag) {
    return document.createElement(tag);
  }

  exports.createElementNS = function(tag) {
    return document.createElementNS("http://www.w3.org/2000/svg", tag);
  }

  exports.unsafeParentNode = function(node) {
    return node.parentNode;
  }

  exports.appendChild = function(node, parent) {
    return parent.appendChild(node);
  }

  exports.removeChild = function(node, parent) {
    parent.removeChild(node);
  }

  exports.replaceChild = function(newNode, oldNode, parent) {
    parent.replaceChild(newNode, oldNode);
  }

  exports.putChild = function(i, node, parent) {
    var target = parent.childNodes[i];
    if (target) {
      parent.insertBefore(node, target);
    } else {
      parent.appendChild(node);
    }
  }

  exports.nodeIndexOf = function(node) {
    return Array.prototype.indexOf.call(node.parentNode.children, node);
  }

  exports.setTextContent = function(text, node) {
    node.textContent = text;
  }

  exports.setAny = function(name, any, element) {
    element[name] = any;
  }

  exports.setAttribute = function(name, val, element) {
    element.setAttribute(name, val);
  }

  exports.removeAttribute = function(name, element) {
    element.removeAttribute(name);
  }

  exports.isProperty = function(name, element) {
    return name in element;
  }

  exports.isBoolean = function(name, element) {
    return typeof element[name] === "boolean";
  }

  exports.mkEventListener = function (f) {
    return function(evt) {
      f(evt)();
    }
  }

  exports.whenE = function(bool, f) {
    if (bool) {
      f();
    }
  }

  exports.forE = function(lo, hi, f) {
    var i = lo;

    while (i < hi) {
      f(i);
      i = (i + 1) | 0;
    }
  }

  exports.foreachE = function(xs, f) {
    var i = 0;

    while (i < xs.length) {
      f(xs[i]);
      i = (i + 1) | 0;
    }
  }

  exports.sequenceE = function(fs) {
    var i = 0;

    while (i < fs.length) {
      fs[i]();
      i = (i + 1) | 0;
    }
  }

  exports.tailRecE = function(f, s) {
    var step = s;
    while (!step.done) {
      step = f(step);
    }
    return step;
  }
})(PS["Grain.Internal.Util"] = PS["Grain.Internal.Util"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Util"] = $PS["Grain.Internal.Util"] || {};
  var exports = $PS["Grain.Internal.Util"];
  var $foreign = $PS["Grain.Internal.Util"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                
  var nonNull = Unsafe_Coerce.unsafeCoerce;
  exports["nonNull"] = nonNull;
  exports["byIdx"] = $foreign.byIdx;
  exports["byIdxNullable"] = $foreign.byIdxNullable;
  exports["keyNullable"] = $foreign.keyNullable;
  exports["mapNullable"] = $foreign.mapNullable;
  exports["eqNullable"] = $foreign.eqNullable;
  exports["shouldAttribute"] = $foreign.shouldAttribute;
  exports["raf"] = $foreign.raf;
  exports["head"] = $foreign.head;
  exports["nodeIndexOf"] = $foreign.nodeIndexOf;
  exports["createTextNode"] = $foreign.createTextNode;
  exports["createElement"] = $foreign.createElement;
  exports["createElementNS"] = $foreign.createElementNS;
  exports["unsafeParentNode"] = $foreign.unsafeParentNode;
  exports["appendChild"] = $foreign.appendChild;
  exports["removeChild"] = $foreign.removeChild;
  exports["replaceChild"] = $foreign.replaceChild;
  exports["putChild"] = $foreign.putChild;
  exports["setTextContent"] = $foreign.setTextContent;
  exports["setAny"] = $foreign.setAny;
  exports["setAttribute"] = $foreign.setAttribute;
  exports["removeAttribute"] = $foreign.removeAttribute;
  exports["isProperty"] = $foreign.isProperty;
  exports["isBoolean"] = $foreign.isBoolean;
  exports["mkEventListener"] = $foreign.mkEventListener;
  exports["whenE"] = $foreign.whenE;
  exports["forE"] = $foreign.forE;
  exports["foreachE"] = $foreign.foreachE;
  exports["sequenceE"] = $foreign.sequenceE;
  exports["tailRecE"] = $foreign.tailRecE;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Diff"] = $PS["Grain.Internal.Diff"] || {};
  var exports = $PS["Grain.Internal.Diff"];
  var Data_Array = $PS["Data.Array"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Unit = $PS["Data.Unit"];
  var Grain_Internal_MObject = $PS["Grain.Internal.MObject"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var keyToIdx = function (v) {
      var $15 = v.st.startC > v.st.endC;
      if ($15) {
          return Grain_Internal_MObject["new"]();
      };
      var ktoi = Grain_Internal_MObject["new"]();
      Grain_Internal_Util.forE(v.st.startC, v.st.endC + 1 | 0, function (idx) {
          var key = v.patch.getKey(idx, Grain_Internal_Util.byIdx(v.args.currents, idx));
          return Grain_Internal_MObject.set(key, idx, ktoi);
      });
      return ktoi;
  };
  var diff2 = function (v) {
      Grain_Internal_Util.forE(v.st.startN, v.st.endN + 1 | 0, function (idx) {
          var vnodeN = Grain_Internal_Util.byIdx(v.args.nexts, idx);
          var keyN = v.patch.getKey(idx, vnodeN);
          var mIdxC = Grain_Internal_MObject.get(keyN, v.st.ktoi);
          if (mIdxC instanceof Data_Maybe.Nothing) {
              return v.patch.create(v.args.context, v.args.parentNode, keyN, idx, vnodeN);
          };
          if (mIdxC instanceof Data_Maybe.Just) {
              var vnodeC = Grain_Internal_Util.byIdx(v.args.currents, mIdxC.value0);
              v.patch.move(v.args.context, v.args.parentNode, keyN, idx, vnodeC, vnodeN);
              return Grain_Internal_MObject.del(keyN, v.st.ktoi);
          };
          throw new Error("Failed pattern match at Grain.Internal.Diff (line 215, column 9 - line 232, column 49): " + [ mIdxC.constructor.name ]);
      });
      var ks = Grain_Internal_MObject.keys(v.st.ktoi);
      return Grain_Internal_Util.foreachE(ks, function (keyC) {
          var idxC = Grain_Internal_MObject.unsafeGet(keyC, v.st.ktoi);
          var vnodeC = Grain_Internal_Util.byIdx(v.args.currents, idxC);
          return v["patch"]["delete"](v.args.context, v.args.parentNode, keyC, vnodeC);
      });
  };
  var diff1 = function (v) {
      var $26 = v.st.startC > v.st.endC;
      if ($26) {
          return {
              done: true,
              args: v.args,
              patch: v.patch,
              st: v.st
          };
      };
      var $27 = v.st.startN > v.st.endN;
      if ($27) {
          return {
              done: true,
              args: v.args,
              patch: v.patch,
              st: v.st
          };
      };
      var vnodeStartN = Grain_Internal_Util.byIdxNullable(v.args.nexts, v.st.startN);
      var vnodeStartC = Grain_Internal_Util.byIdxNullable(v.args.currents, v.st.startC);
      var vnodeEndN = Grain_Internal_Util.byIdxNullable(v.args.nexts, v.st.endN);
      var vnodeEndC = Grain_Internal_Util.byIdxNullable(v.args.currents, v.st.endC);
      var keyStartN = Grain_Internal_Util.keyNullable(v.patch.getKey, v.st.startN, vnodeStartN);
      var keyStartC = Grain_Internal_Util.keyNullable(v.patch.getKey, v.st.startC, vnodeStartC);
      var keyEndN = Grain_Internal_Util.keyNullable(v.patch.getKey, v.st.endN, vnodeEndN);
      var keyEndC = Grain_Internal_Util.keyNullable(v.patch.getKey, v.st.endC, vnodeEndC);
      var $28 = Grain_Internal_Util.eqNullable(keyStartC, keyStartN);
      if ($28) {
          v.patch.update(v.args.context, v.args.parentNode, Grain_Internal_Util.nonNull(keyStartN), Grain_Internal_Util.nonNull(vnodeStartC), Grain_Internal_Util.nonNull(vnodeStartN));
          return {
              st: {
                  startC: v.st.startC + 1 | 0,
                  startN: v.st.startN + 1 | 0,
                  endC: v.st.endC,
                  endN: v.st.endN,
                  lengthN: v.st.lengthN,
                  lengthC: v.st.lengthC
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $29 = Grain_Internal_Util.eqNullable(keyEndC, keyEndN);
      if ($29) {
          v.patch.update(v.args.context, v.args.parentNode, Grain_Internal_Util.nonNull(keyEndN), Grain_Internal_Util.nonNull(vnodeEndC), Grain_Internal_Util.nonNull(vnodeEndN));
          return {
              st: {
                  endC: v.st.endC - 1 | 0,
                  endN: v.st.endN - 1 | 0,
                  startC: v.st.startC,
                  startN: v.st.startN,
                  lengthN: v.st.lengthN,
                  lengthC: v.st.lengthC
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $30 = Grain_Internal_Util.eqNullable(keyStartC, keyEndN);
      if ($30) {
          var delta = (v.st.lengthN - 1 | 0) - v.st.endN | 0;
          var index = (v.st.lengthC - 1 | 0) - delta | 0;
          v.patch.move(v.args.context, v.args.parentNode, Grain_Internal_Util.nonNull(keyEndN), index, Grain_Internal_Util.nonNull(vnodeStartC), Grain_Internal_Util.nonNull(vnodeEndN));
          return {
              st: {
                  startC: v.st.startC + 1 | 0,
                  endN: v.st.endN - 1 | 0,
                  endC: v.st.endC,
                  lengthC: v.st.lengthC,
                  lengthN: v.st.lengthN,
                  startN: v.st.startN
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $31 = Grain_Internal_Util.eqNullable(keyEndC, keyStartN);
      if ($31) {
          v.patch.move(v.args.context, v.args.parentNode, Grain_Internal_Util.nonNull(keyStartN), v.st.startN, Grain_Internal_Util.nonNull(vnodeEndC), Grain_Internal_Util.nonNull(vnodeStartN));
          return {
              st: {
                  endC: v.st.endC - 1 | 0,
                  startN: v.st.startN + 1 | 0,
                  endN: v.st.endN,
                  lengthC: v.st.lengthC,
                  lengthN: v.st.lengthN,
                  startC: v.st.startC
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      return {
          done: true,
          args: v.args,
          patch: v.patch,
          st: v.st
      };
  };
  var diff = function (patch, args) {
      var lengthN = Data_Array.length(args.nexts);
      var lengthC = Data_Array.length(args.currents);
      if (lengthC === 0 && lengthN === 0) {
          return Data_Unit.unit;
      };
      if (lengthC === 0) {
          return Grain_Internal_Util.forE(0, lengthN, function (i) {
              var next = Grain_Internal_Util.byIdx(args.nexts, i);
              var nodeKey = patch.getKey(i, next);
              return patch.create(args.context, args.parentNode, nodeKey, i, next);
          });
      };
      if (lengthN === 0) {
          return Grain_Internal_Util.forE(0, lengthC, function (i) {
              var current = Grain_Internal_Util.byIdx(args.currents, i);
              var nodeKey = patch.getKey(i, current);
              return patch["delete"](args.context, args.parentNode, nodeKey, current);
          });
      };
      var args1 = Grain_Internal_Util.tailRecE(diff1, {
          done: false,
          patch: patch,
          args: args,
          st: {
              lengthC: lengthC,
              startC: 0,
              endC: lengthC - 1 | 0,
              lengthN: lengthN,
              startN: 0,
              endN: lengthN - 1 | 0
          }
      });
      var ktoi = keyToIdx(args1);
      return diff2({
          patch: patch,
          args: args,
          st: {
              startN: args1.st.startN,
              endN: args1.st.endN,
              ktoi: ktoi
          }
      });
  };
  exports["diff"] = diff;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.PropDiff"] = $PS["Grain.Internal.PropDiff"] || {};
  var exports = $PS["Grain.Internal.PropDiff"];
  var Data_Array = $PS["Data.Array"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Tuple = $PS["Data.Tuple"];
  var Data_Unit = $PS["Data.Unit"];
  var Grain_Internal_MObject = $PS["Grain.Internal.MObject"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var nameToIdx = function (v) {
      var $15 = v.st.startC > v.st.endC;
      if ($15) {
          return Grain_Internal_MObject["new"]();
      };
      var ntoi = Grain_Internal_MObject["new"]();
      Grain_Internal_Util.forE(v.st.startC, v.st.endC + 1 | 0, function (idx) {
          var name = Data_Tuple.fst(Grain_Internal_Util.byIdx(v.args.currents, idx));
          return Grain_Internal_MObject.set(name, idx, ntoi);
      });
      return ntoi;
  };
  var diff2 = function (v) {
      Grain_Internal_Util.forE(v.st.startN, v.st.endN + 1 | 0, function (idx) {
          var tupleN = Grain_Internal_Util.byIdx(v.args.nexts, idx);
          var nameN = Data_Tuple.fst(tupleN);
          var mIdxC = Grain_Internal_MObject.get(nameN, v.st.ntoi);
          if (mIdxC instanceof Data_Maybe.Nothing) {
              return v.patch.create(v.args.context, tupleN);
          };
          if (mIdxC instanceof Data_Maybe.Just) {
              var tupleC = Grain_Internal_Util.byIdx(v.args.currents, mIdxC.value0);
              v.patch.update(v.args.context, tupleC, tupleN);
              return Grain_Internal_MObject.del(nameN, v.st.ntoi);
          };
          throw new Error("Failed pattern match at Grain.Internal.PropDiff (line 178, column 9 - line 187, column 50): " + [ mIdxC.constructor.name ]);
      });
      var is = Grain_Internal_MObject.values(v.st.ntoi);
      return Grain_Internal_Util.foreachE(is, function (idxC) {
          var tupleC = Grain_Internal_Util.byIdx(v.args.currents, idxC);
          return v["patch"]["delete"](v.args.context, tupleC);
      });
  };
  var diff1 = function (v) {
      var $25 = v.st.startC > v.st.endC;
      if ($25) {
          return {
              done: true,
              args: v.args,
              patch: v.patch,
              st: v.st
          };
      };
      var $26 = v.st.startN > v.st.endN;
      if ($26) {
          return {
              done: true,
              args: v.args,
              patch: v.patch,
              st: v.st
          };
      };
      var tupleStartN = Grain_Internal_Util.byIdxNullable(v.args.nexts, v.st.startN);
      var tupleStartC = Grain_Internal_Util.byIdxNullable(v.args.currents, v.st.startC);
      var tupleEndN = Grain_Internal_Util.byIdxNullable(v.args.nexts, v.st.endN);
      var tupleEndC = Grain_Internal_Util.byIdxNullable(v.args.currents, v.st.endC);
      var nameStartN = Grain_Internal_Util.mapNullable(Data_Tuple.fst, tupleStartN);
      var nameStartC = Grain_Internal_Util.mapNullable(Data_Tuple.fst, tupleStartC);
      var nameEndN = Grain_Internal_Util.mapNullable(Data_Tuple.fst, tupleEndN);
      var nameEndC = Grain_Internal_Util.mapNullable(Data_Tuple.fst, tupleEndC);
      var $27 = Grain_Internal_Util.eqNullable(nameStartC, nameStartN);
      if ($27) {
          v.patch.update(v.args.context, Grain_Internal_Util.nonNull(tupleStartC), Grain_Internal_Util.nonNull(tupleStartN));
          return {
              st: {
                  startC: v.st.startC + 1 | 0,
                  startN: v.st.startN + 1 | 0,
                  endC: v.st.endC,
                  endN: v.st.endN
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $28 = Grain_Internal_Util.eqNullable(nameEndC, nameEndN);
      if ($28) {
          v.patch.update(v.args.context, Grain_Internal_Util.nonNull(tupleEndC), Grain_Internal_Util.nonNull(tupleEndN));
          return {
              st: {
                  endC: v.st.endC - 1 | 0,
                  endN: v.st.endN - 1 | 0,
                  startC: v.st.startC,
                  startN: v.st.startN
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $29 = Grain_Internal_Util.eqNullable(nameStartC, nameEndN);
      if ($29) {
          v.patch.update(v.args.context, Grain_Internal_Util.nonNull(tupleStartC), Grain_Internal_Util.nonNull(tupleEndN));
          return {
              st: {
                  startC: v.st.startC + 1 | 0,
                  endN: v.st.endN - 1 | 0,
                  endC: v.st.endC,
                  startN: v.st.startN
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      var $30 = Grain_Internal_Util.eqNullable(nameEndC, nameStartN);
      if ($30) {
          v.patch.update(v.args.context, Grain_Internal_Util.nonNull(tupleEndC), Grain_Internal_Util.nonNull(tupleStartN));
          return {
              st: {
                  endC: v.st.endC - 1 | 0,
                  startN: v.st.startN + 1 | 0,
                  endN: v.st.endN,
                  startC: v.st.startC
              },
              args: v.args,
              done: v.done,
              patch: v.patch
          };
      };
      return {
          done: true,
          args: v.args,
          patch: v.patch,
          st: v.st
      };
  };
  var diff = function (patch, args) {
      var lengthN = Data_Array.length(args.nexts);
      var lengthC = Data_Array.length(args.currents);
      if (lengthC === 0 && lengthN === 0) {
          return Data_Unit.unit;
      };
      if (lengthC === 0) {
          return Grain_Internal_Util.forE(0, lengthN, function (i) {
              var next = Grain_Internal_Util.byIdx(args.nexts, i);
              return patch.create(args.context, next);
          });
      };
      if (lengthN === 0) {
          return Grain_Internal_Util.forE(0, lengthC, function (i) {
              var current = Grain_Internal_Util.byIdx(args.currents, i);
              return patch["delete"](args.context, current);
          });
      };
      var args1 = Grain_Internal_Util.tailRecE(diff1, {
          done: false,
          patch: patch,
          args: args,
          st: {
              startC: 0,
              endC: lengthC - 1 | 0,
              startN: 0,
              endN: lengthN - 1 | 0
          }
      });
      var ntoi = nameToIdx(args1);
      return diff2({
          patch: patch,
          args: args,
          st: {
              startN: args1.st.startN,
              endN: args1.st.endN,
              ntoi: ntoi
          }
      });
  };
  exports["diff"] = diff;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Handler"] = $PS["Grain.Internal.Handler"] || {};
  var exports = $PS["Grain.Internal.Handler"];
  var Data_Nullable = $PS["Data.Nullable"];
  var Grain_Internal_PropDiff = $PS["Grain.Internal.PropDiff"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var setHandler = function (name, handler, element) {
      var listener = Grain_Internal_Util.mkEventListener(handler);
      return Grain_Internal_Util.setAny(name, listener, element);
  };
  var update = function (element, v, v1) {
      return setHandler(v1.value0, v1.value1, element);
  };
  var $$delete = function (element, v) {
      return Grain_Internal_Util.setAny(v.value0, Data_Nullable["null"], element);
  };
  var create = function (element, v) {
      return setHandler(v.value0, v.value1, element);
  };
  var patch = {
      create: create,
      "delete": $$delete,
      update: update
  };
  var updateHandlers = function (currents, nexts, element) {
      return Grain_Internal_PropDiff.diff(patch, {
          context: element,
          currents: currents,
          nexts: nexts
      });
  };
  var allocHandlers = function (nexts, element) {
      return Grain_Internal_Util.foreachE(nexts, function (v) {
          return setHandler(v.value0, v.value1, element);
      });
  };
  exports["allocHandlers"] = allocHandlers;
  exports["updateHandlers"] = updateHandlers;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Prop"] = $PS["Grain.Internal.Prop"] || {};
  var exports = $PS["Grain.Internal.Prop"];
  var Grain_Internal_PropDiff = $PS["Grain.Internal.PropDiff"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var setProp = function (isSvg, name, val, element) {
      var $8 = isSvg || (Grain_Internal_Util.shouldAttribute(name) || !Grain_Internal_Util.isProperty(name, element));
      if ($8) {
          return Grain_Internal_Util.setAttribute(name, val, element);
      };
      var $9 = Grain_Internal_Util.isBoolean(name, element);
      if ($9) {
          return Grain_Internal_Util.setAny(name, val !== "false", element);
      };
      return Grain_Internal_Util.setAny(name, val, element);
  };
  var update = function (v, v1, v2) {
      return Grain_Internal_Util.whenE(v1.value1 !== v2.value1, function () {
          return setProp(v.isSvg, v2.value0, v2.value1, v.element);
      });
  };
  var removeProp = function (isSvg, name, element) {
      var $19 = isSvg || (Grain_Internal_Util.shouldAttribute(name) || !Grain_Internal_Util.isProperty(name, element));
      if ($19) {
          return Grain_Internal_Util.removeAttribute(name, element);
      };
      return Grain_Internal_Util.setAny(name, "", element);
  };
  var $$delete = function (v, v1) {
      return removeProp(v.isSvg, v1.value0, v.element);
  };
  var create = function (v, v1) {
      return setProp(v.isSvg, v1.value0, v1.value1, v.element);
  };
  var patch = {
      create: create,
      "delete": $$delete,
      update: update
  };
  var updateProps = function (isSvg, currents, nexts, element) {
      return Grain_Internal_PropDiff.diff(patch, {
          context: {
              isSvg: isSvg,
              element: element
          },
          currents: currents,
          nexts: nexts
      });
  };
  var allocProps = function (isSvg, nexts, element) {
      return Grain_Internal_Util.foreachE(nexts, function (v) {
          return setProp(isSvg, v.value0, v.value1, element);
      });
  };
  exports["allocProps"] = allocProps;
  exports["updateProps"] = updateProps;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.DOM.Element"] = $PS["Web.DOM.Element"] || {};
  var exports = $PS["Web.DOM.Element"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                   
  var toNode = Unsafe_Coerce.unsafeCoerce;
  exports["toNode"] = toNode;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Styler"] = $PS["Grain.Internal.Styler"] || {};
  var exports = $PS["Grain.Internal.Styler"];
  var Data_Array = $PS["Data.Array"];
  var Data_Char = $PS["Data.Char"];
  var Data_Int = $PS["Data.Int"];
  var Data_String_CodeUnits = $PS["Data.String.CodeUnits"];
  var Data_String_Common = $PS["Data.String.Common"];
  var Data_String_Regex = $PS["Data.String.Regex"];
  var Data_String_Regex_Flags = $PS["Data.String.Regex.Flags"];
  var Data_String_Regex_Unsafe = $PS["Data.String.Regex.Unsafe"];
  var Grain_Internal_MObject = $PS["Grain.Internal.MObject"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];
  var Web_DOM_Element = $PS["Web.DOM.Element"];
  var replaceToken = function (instead, target) {
      return Data_String_Common.replaceAll("&")(instead)(target);
  };
  var minify = (function () {
      var replaceWhitespaces = Data_String_Regex.replace(Data_String_Regex_Unsafe.unsafeRegex("\\s\\s+")(Data_String_Regex_Flags.global))(" ");
      var replaceReturns = Data_String_Common.replaceAll("\x0a")("");
      return function ($2) {
          return replaceWhitespaces(replaceReturns(Data_String_Common.trim($2)));
      };
  })();
  var generateHash = function (str) {
      var culc = function ($$char) {
          return function (value) {
              return (value * 33 | 0) ^ Data_Char.toCharCode($$char);
          };
      };
      var seed = Data_Array.foldr(culc)(5381)(Data_String_CodeUnits.toCharArray(str));
      return Data_Int.toStringAs(Data_Int.base36)(seed >>> 0);
  };
  var registerStyle = function (style, v) {
      var minified = minify(style);
      var name = "g" + generateHash(minified);
      var exists = Grain_Internal_MObject.has(name, v.stylesRef);
      Grain_Internal_Util.whenE(!exists, (function () {
          var output = replaceToken(name, minified);
          return function __do() {
              Grain_Internal_MObject.set(name, output, v.stylesRef);
              var vs = Grain_Internal_MObject.values(v.stylesRef);
              return Grain_Internal_Util.setTextContent(Data_String_Common.joinWith("")(vs), v.node);
          };
      })());
      return name;
  };
  var createStyleNode = function __do() {
      var h = Grain_Internal_Util.head();
      var el = Grain_Internal_Util.createElement("style");
      return Grain_Internal_Util.appendChild(Web_DOM_Element.toNode(el), h);
  };
  var mountStyler = function __do() {
      var node = createStyleNode();
      var stylesRef = Grain_Internal_MObject["new"]();
      return {
          node: node,
          stylesRef: stylesRef
      };
  };
  exports["mountStyler"] = mountStyler;
  exports["registerStyle"] = registerStyle;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.SpecialProp"] = $PS["Grain.Internal.SpecialProp"] || {};
  var exports = $PS["Grain.Internal.SpecialProp"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Unit = $PS["Data.Unit"];
  var Grain_Internal_Styler = $PS["Grain.Internal.Styler"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var setClassName = function (isSvg, val, element) {
      if (isSvg) {
          return Grain_Internal_Util.setAttribute("class", val, element);
      };
      return Grain_Internal_Util.setAny("className", val, element);
  };
  var getClassName = function (styler, specials) {
      if (specials.css instanceof Data_Maybe.Nothing && specials.className instanceof Data_Maybe.Just) {
          return new Data_Maybe.Just(specials.className.value0);
      };
      if (specials.css instanceof Data_Maybe.Just && specials.className instanceof Data_Maybe.Nothing) {
          var cls$prime = Grain_Internal_Styler.registerStyle(specials.css.value0, styler);
          return new Data_Maybe.Just(cls$prime);
      };
      if (specials.css instanceof Data_Maybe.Just && specials.className instanceof Data_Maybe.Just) {
          var cls$prime = Grain_Internal_Styler.registerStyle(specials.css.value0, styler);
          return Data_Maybe.Just.create(cls$prime + (" " + specials.className.value0));
      };
      return Data_Maybe.Nothing.value;
  };
  var updateSpecialProps = function (isSvg, styler, currents, nexts, element) {
      var mc = getClassName(styler, currents);
      var mn = getClassName(styler, nexts);
      if (mc instanceof Data_Maybe.Just && mn instanceof Data_Maybe.Just) {
          return Grain_Internal_Util.whenE(mc.value0 !== mn.value0, function () {
              return setClassName(isSvg, mn.value0, element);
          });
      };
      if (mc instanceof Data_Maybe.Nothing && mn instanceof Data_Maybe.Just) {
          return setClassName(isSvg, mn.value0, element);
      };
      if (mc instanceof Data_Maybe.Just && mn instanceof Data_Maybe.Nothing) {
          if (isSvg) {
              return Grain_Internal_Util.removeAttribute("class", element);
          };
          return Grain_Internal_Util.setAny("className", "", element);
      };
      return Data_Unit.unit;
  };
  var allocSpecialProps = function (isSvg, styler, nexts, element) {
      var mn = getClassName(styler, nexts);
      if (mn instanceof Data_Maybe.Just) {
          return setClassName(isSvg, mn.value0, element);
      };
      return Data_Unit.unit;
  };
  exports["allocSpecialProps"] = allocSpecialProps;
  exports["updateSpecialProps"] = updateSpecialProps;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Element"] = $PS["Grain.Internal.Element"] || {};
  var exports = $PS["Grain.Internal.Element"];
  var Grain_Internal_Handler = $PS["Grain.Internal.Handler"];
  var Grain_Internal_Prop = $PS["Grain.Internal.Prop"];
  var Grain_Internal_SpecialProp = $PS["Grain.Internal.SpecialProp"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];                
  var updateElement = function (isSvg, styler, current, next, element) {
      Grain_Internal_SpecialProp.updateSpecialProps(isSvg, styler, current.specialProps, next.specialProps, element);
      Grain_Internal_Prop.updateProps(isSvg, current.props, next.props, element);
      return Grain_Internal_Handler.updateHandlers(current.handlers, next.handlers, element);
  };
  var allocElement = function (isSvg, styler, next) {
      var element = (function () {
          if (isSvg) {
              return Grain_Internal_Util.createElementNS(next.tagName);
          };
          return Grain_Internal_Util.createElement(next.tagName);
      })();
      Grain_Internal_SpecialProp.allocSpecialProps(isSvg, styler, next.specialProps, element);
      Grain_Internal_Prop.allocProps(isSvg, next.props, element);
      Grain_Internal_Handler.allocHandlers(next.handlers, element);
      return element;
  };
  exports["allocElement"] = allocElement;
  exports["updateElement"] = updateElement;
})(PS);
(function(exports) {
  'use strict';

  exports.new = function() {
    return [];
  }

  exports.cons = function(x, xs) {
    xs.unshift(x);
  }

  exports.snoc = function(xs, x) {
    xs.push(x);
  }

  exports.cutFrom = function(i, xs) {
    xs.splice(i);
  }

  exports.deleteIfEqRef = function(x, xs) {
    var idx = xs.indexOf(x);
    if (idx < 0) {
      return;
    }
    xs.splice(idx, 1);
  }

  exports.clear = function(xs) {
    xs.splice(0);
  }
})(PS["Grain.Internal.MArray"] = PS["Grain.Internal.MArray"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.MArray"] = $PS["Grain.Internal.MArray"] || {};
  var exports = $PS["Grain.Internal.MArray"];
  var $foreign = $PS["Grain.Internal.MArray"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                
  var toArray = Unsafe_Coerce.unsafeCoerce;
  exports["toArray"] = toArray;
  exports["new"] = $foreign["new"];
  exports["cons"] = $foreign.cons;
  exports["snoc"] = $foreign.snoc;
  exports["cutFrom"] = $foreign.cutFrom;
  exports["deleteIfEqRef"] = $foreign.deleteIfEqRef;
  exports["clear"] = $foreign.clear;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Emitter"] = $PS["Grain.Internal.Emitter"] || {};
  var exports = $PS["Grain.Internal.Emitter"];
  var Grain_Internal_MArray = $PS["Grain.Internal.MArray"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];
  var unsubscribe = function (listener, v) {
      return Grain_Internal_MArray.deleteIfEqRef(listener, v);
  };
  var subscribe = function (listener, v) {
      return Grain_Internal_MArray.snoc(v, listener);
  };
  var emit = function (v) {
      return Grain_Internal_Util.sequenceE(Grain_Internal_MArray.toArray(v));
  };
  var createEmitter = function __do() {
      var listenersRef = Grain_Internal_MArray["new"]();
      return listenersRef;
  };
  exports["createEmitter"] = createEmitter;
  exports["subscribe"] = subscribe;
  exports["unsubscribe"] = unsubscribe;
  exports["emit"] = emit;
})(PS);
(function(exports) {
  'use strict';

  exports.new = function() {
    return new Map();
  }

  exports.getImpl = function(k, m) {
    return m.get(k);
  }

  exports.set = function(k, v, m) {
    m.set(k, v);
  }

  exports.del = function(k, m) {
    m.delete(k);
  }

  exports.unsafeGet = function(k, m) {
    return m.get(k);
  }
})(PS["Grain.Internal.MMap"] = PS["Grain.Internal.MMap"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.MMap"] = $PS["Grain.Internal.MMap"] || {};
  var exports = $PS["Grain.Internal.MMap"];
  var $foreign = $PS["Grain.Internal.MMap"];
  var Data_Nullable = $PS["Data.Nullable"];                
  var get = function (k, m) {
      var nullable = $foreign.getImpl(k, m);
      return Data_Nullable.toMaybe(nullable);
  };
  exports["get"] = get;
  exports["new"] = $foreign["new"];
  exports["set"] = $foreign.set;
  exports["del"] = $foreign.del;
  exports["unsafeGet"] = $foreign.unsafeGet;
})(PS);
(function(exports) {
  'use strict';

  exports.new = function (val) {
    return { value: val };
  }

  exports.read = function (ref) {
    return ref.value;
  }

  exports.modify = function (f, ref) {
    ref.value = f(ref.value);
    return ref.value;
  }

  exports.write = function (val, ref) {
    ref.value = val;
  }
})(PS["Grain.Internal.Ref"] = PS["Grain.Internal.Ref"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Ref"] = $PS["Grain.Internal.Ref"] || {};
  var exports = $PS["Grain.Internal.Ref"];
  var $foreign = $PS["Grain.Internal.Ref"];
  var Data_Functor = $PS["Data.Functor"];
  var Effect = $PS["Effect"];                
  var modify_ = function (f, ref) {
      return Data_Functor["void"](Effect.functorEffect)(function () {
          return $foreign.modify(f, ref);
      })();
  };
  exports["modify_"] = modify_;
  exports["new"] = $foreign["new"];
  exports["read"] = $foreign.read;
  exports["write"] = $foreign.write;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Internal.Store"] = $PS["Grain.Internal.Store"] || {};
  var exports = $PS["Grain.Internal.Store"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Foreign = $PS["Foreign"];
  var Grain_Class = $PS["Grain.Class"];
  var Grain_Internal_Emitter = $PS["Grain.Internal.Emitter"];
  var Grain_Internal_MMap = $PS["Grain.Internal.MMap"];
  var Grain_Internal_MObject = $PS["Grain.Internal.MObject"];
  var Grain_Internal_Ref = $PS["Grain.Internal.Ref"];
  var lookupPartsRef = function (dictGrain) {
      return function (proxy, v) {
          var maybePartsRef = Grain_Internal_MMap.get(Grain_Class.typeRefOf(dictGrain)(proxy), v);
          if (maybePartsRef instanceof Data_Maybe.Just) {
              return maybePartsRef.value0;
          };
          if (maybePartsRef instanceof Data_Maybe.Nothing) {
              var partsRef = Grain_Internal_MObject["new"]();
              Grain_Internal_MMap.set(Grain_Class.typeRefOf(dictGrain)(proxy), partsRef, v);
              return partsRef;
          };
          throw new Error("Failed pattern match at Grain.Internal.Store (line 96, column 3 - line 102, column 20): " + [ maybePartsRef.constructor.name ]);
      };
  };
  var lookupPart = function (dictGrain) {
      return function (proxy, k, store) {
          var partsRef = lookupPartsRef(dictGrain)(proxy, store);
          var mPart = Grain_Internal_MObject.get(k, partsRef);
          if (mPart instanceof Data_Maybe.Just) {
              return mPart.value0;
          };
          if (mPart instanceof Data_Maybe.Nothing) {
              var value = Grain_Class.initialState(dictGrain)(proxy)();
              var valueRef = Grain_Internal_Ref["new"](Foreign.unsafeToForeign(value));
              var emitter = Grain_Internal_Emitter.createEmitter();
              var part = {
                  emitter: emitter,
                  valueRef: valueRef
              };
              Grain_Internal_MObject.set(k, part, partsRef);
              return part;
          };
          throw new Error("Failed pattern match at Grain.Internal.Store (line 80, column 3 - line 88, column 16): " + [ mPart.constructor.name ]);
      };
  };
  var readGrain = function (dictGrain) {
      return function (proxy, k, store) {
          var v = lookupPart(dictGrain)(proxy, k, store);
          var value = Grain_Internal_Ref.read(v.valueRef);
          return Foreign.unsafeFromForeign(value);
      };
  };
  var subscribeGrain = function (dictGrain) {
      return function (proxy, k, listener, store) {
          var v = lookupPart(dictGrain)(proxy, k, store);
          return Grain_Internal_Emitter.subscribe(listener, v.emitter);
      };
  };
  var unsubscribeGrain = function (dictGrain) {
      return function (proxy, k, listener, store) {
          var v = lookupPart(dictGrain)(proxy, k, store);
          return Grain_Internal_Emitter.unsubscribe(listener, v.emitter);
      };
  };
  var updateGrain = function (dictGrain) {
      return function (proxy, k, f, store) {
          var v = lookupPart(dictGrain)(proxy, k, store);
          Grain_Internal_Ref.modify_(f, v.valueRef);
          return Grain_Internal_Emitter.emit(v.emitter);
      };
  };
  var createStore = function __do() {
      var m = Grain_Internal_MMap["new"]();
      return m;
  };
  exports["createStore"] = createStore;
  exports["readGrain"] = readGrain;
  exports["subscribeGrain"] = subscribeGrain;
  exports["unsubscribeGrain"] = unsubscribeGrain;
  exports["updateGrain"] = updateGrain;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.DOM.Text"] = $PS["Web.DOM.Text"] || {};
  var exports = $PS["Web.DOM.Text"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                   
  var toNode = Unsafe_Coerce.unsafeCoerce;
  exports["toNode"] = toNode;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.UI"] = $PS["Grain.UI"] || {};
  var exports = $PS["Grain.UI"];
  var Control_Applicative = $PS["Control.Applicative"];
  var Control_Bind = $PS["Control.Bind"];
  var Control_Monad_Reader_Class = $PS["Control.Monad.Reader.Class"];
  var Control_Monad_Reader_Trans = $PS["Control.Monad.Reader.Trans"];
  var Data_Array = $PS["Data.Array"];
  var Data_Boolean = $PS["Data.Boolean"];
  var Data_Function = $PS["Data.Function"];
  var Data_Functor = $PS["Data.Functor"];
  var Data_Lazy = $PS["Data.Lazy"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Show = $PS["Data.Show"];
  var Data_Tuple = $PS["Data.Tuple"];
  var Data_Unit = $PS["Data.Unit"];
  var Effect = $PS["Effect"];
  var Effect_Class = $PS["Effect.Class"];
  var Effect_Exception = $PS["Effect.Exception"];
  var Grain_Class = $PS["Grain.Class"];
  var Grain_Internal_Diff = $PS["Grain.Internal.Diff"];
  var Grain_Internal_Element = $PS["Grain.Internal.Element"];
  var Grain_Internal_MArray = $PS["Grain.Internal.MArray"];
  var Grain_Internal_MMap = $PS["Grain.Internal.MMap"];
  var Grain_Internal_MObject = $PS["Grain.Internal.MObject"];
  var Grain_Internal_Ref = $PS["Grain.Internal.Ref"];
  var Grain_Internal_Store = $PS["Grain.Internal.Store"];
  var Grain_Internal_Styler = $PS["Grain.Internal.Styler"];
  var Grain_Internal_Util = $PS["Grain.Internal.Util"];
  var Web_DOM_Element = $PS["Web.DOM.Element"];
  var Web_DOM_Text = $PS["Web.DOM.Text"];                
  var VNode = (function () {
      function VNode(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      VNode.create = function (value0) {
          return function (value1) {
              return new VNode(value0, value1);
          };
      };
      return VNode;
  })();
  var VText = (function () {
      function VText(value0) {
          this.value0 = value0;
      };
      VText.create = function (value0) {
          return new VText(value0);
      };
      return VText;
  })();
  var VElement = (function () {
      function VElement(value0) {
          this.value0 = value0;
      };
      VElement.create = function (value0) {
          return new VElement(value0);
      };
      return VElement;
  })();
  var VComponent = (function () {
      function VComponent(value0) {
          this.value0 = value0;
      };
      VComponent.create = function (value0) {
          return new VComponent(value0);
      };
      return VComponent;
  })();
  var QueryBox = function (x) {
      return x;
  };
  var ComponentRef = function (x) {
      return x;
  };
  var useValue$prime = function (dictGrain) {
      return function (proxy) {
          return function (k) {
              return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Effect.bindEffect))(Control_Monad_Reader_Class.ask(Control_Monad_Reader_Trans.monadAskReaderT(Effect.monadEffect)))(function (v) {
                  return Effect_Class.liftEffect(Control_Monad_Reader_Trans.monadEffectReader(Effect_Class.monadEffectEffect))(function __do() {
                      v.listenValue(dictGrain)(proxy)(k)();
                      return v.selectValue(dictGrain)(proxy)(k)();
                  });
              });
          };
      };
  };
  var useUpdater$prime = function (dictGrain) {
      return function (proxy) {
          return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Effect.bindEffect))(Control_Monad_Reader_Class.ask(Control_Monad_Reader_Trans.monadAskReaderT(Effect.monadEffect)))(function (v) {
              return Control_Applicative.pure(Control_Monad_Reader_Trans.applicativeReaderT(Effect.applicativeEffect))(v.updateValue(dictGrain)(proxy));
          });
      };
  };
  var unregisterParentNode = Grain_Internal_MMap.del;
  var unregisterComponentRef = Grain_Internal_MMap.del;
  var unregisterChildNode = function (parent, nodeKey, nodeRefs) {
      var mo = Grain_Internal_MMap.unsafeGet(parent, nodeRefs);
      return Grain_Internal_MObject.del(nodeKey, mo);
  };
  var unlockRendering = function (v) {
      return Grain_Internal_Ref.modify_(function (v1) {
          return {
              rendering: false,
              childRef: v1.childRef,
              history: v1.history,
              portalHistory: v1.portalHistory,
              store: v1.store,
              unsubscribers: v1.unsubscribers
          };
      }, v);
  };
  var triggerUnsubscriber = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      Grain_Internal_Util.sequenceE(Grain_Internal_MArray.toArray(v1.unsubscribers));
      return Grain_Internal_MArray.clear(v1.unsubscribers);
  };
  var text = (function () {
      var $288 = VNode.create(Data_Maybe.Nothing.value);
      return function ($289) {
          return $288(VText.create($289));
      };
  })();
  var switchToSvg = function (tag, context) {
      if (context.isSvg) {
          return context;
      };
      return {
          isSvg: tag === "svg",
          componentRefs: context.componentRefs,
          deleting: context.deleting,
          nodeRefs: context.nodeRefs,
          store: context.store,
          styler: context.styler
      };
  };
  var switchToDeleting = function (context) {
      if (context.deleting) {
          return context;
      };
      return {
          isSvg: context.isSvg,
          deleting: true,
          store: context.store,
          styler: context.styler,
          nodeRefs: context.nodeRefs,
          componentRefs: context.componentRefs
      };
  };
  var runRender = function (v) {
      var $290 = Control_Monad_Reader_Trans.runReaderT(v);
      return function ($291) {
          return $290(QueryBox($291));
      };
  };
  var runLifecycle = function (lifecycle, el) {
      if (lifecycle instanceof Data_Maybe.Nothing) {
          return Data_Unit.unit;
      };
      if (lifecycle instanceof Data_Maybe.Just) {
          return Grain_Internal_Util.raf(lifecycle.value0(el));
      };
      throw new Error("Failed pattern match at Grain.UI (line 562, column 3 - line 564, column 42): " + [ lifecycle.constructor.name ]);
  };
  var registerParentNode = function (parent, nodeRefs) {
      var mo = Grain_Internal_MObject["new"]();
      return Grain_Internal_MMap.set(parent, mo, nodeRefs);
  };
  var registerComponentRef = Grain_Internal_MMap.set;
  var registerChildNode = function (parent, nodeKey, child, nodeRefs) {
      var mo = Grain_Internal_MMap.unsafeGet(parent, nodeRefs);
      return Grain_Internal_MObject.set(nodeKey, child, mo);
  };
  var prop = function (v) {
      return function (v1) {
          return function (v2) {
              if (v2.value1 instanceof VElement) {
                  return VNode.create(v2.value0)(new VElement({
                      fingerprint: v2.value1.value0.fingerprint,
                      tagName: v2.value1.value0.tagName,
                      props: Data_Array.snoc(v2.value1.value0.props)(new Data_Tuple.Tuple(v, v1)),
                      handlers: v2.value1.value0.handlers,
                      children: v2.value1.value0.children,
                      specialProps: v2.value1.value0.specialProps,
                      didCreate: v2.value1.value0.didCreate,
                      didUpdate: v2.value1.value0.didUpdate,
                      didDelete: v2.value1.value0.didDelete
                  }));
              };
              return v2;
          };
      };
  };
  var newNodeRefs = Grain_Internal_MMap["new"];
  var newComponentRefs = Grain_Internal_MMap["new"];
  var newComponentRef = function __do() {
      var store = Grain_Internal_Store.createStore();
      var unsubscribers = Grain_Internal_MArray["new"]();
      var history = Grain_Internal_MArray["new"]();
      var portalHistory = Grain_Internal_MArray["new"]();
      return Data_Functor.map(Effect.functorEffect)(ComponentRef)(function () {
          return Grain_Internal_Ref["new"]({
              rendering: true,
              unsubscribers: unsubscribers,
              history: history,
              store: store,
              portalHistory: portalHistory,
              childRef: Data_Maybe.Nothing.value
          });
      })();
  };
  var newChildRef = function (v) {
      var childRef = newComponentRef();
      Grain_Internal_Ref.modify_(function (v1) {
          return {
              childRef: new Data_Maybe.Just(childRef),
              history: v1.history,
              portalHistory: v1.portalHistory,
              rendering: v1.rendering,
              store: v1.store,
              unsubscribers: v1.unsubscribers
          };
      }, v);
      return childRef;
  };                                                                                                      
  var lockRendering = function (v) {
      return Grain_Internal_Ref.modify_(function (v1) {
          return {
              rendering: true,
              childRef: v1.childRef,
              history: v1.history,
              portalHistory: v1.portalHistory,
              store: v1.store,
              unsubscribers: v1.unsubscribers
          };
      }, v);
  };
  var kids = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v,
                  specialProps: v1.value1.value0.specialProps,
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var isDifferent = function (c, n) {
      if (c.fingerprint instanceof Data_Maybe.Nothing && n.fingerprint instanceof Data_Maybe.Nothing) {
          return true;
      };
      if (c.fingerprint instanceof Data_Maybe.Just && n.fingerprint instanceof Data_Maybe.Just) {
          return c.fingerprint.value0 !== n.fingerprint.value0;
      };
      return true;
  };
  var handle = function (v) {
      return function (v1) {
          return function (v2) {
              if (v2.value1 instanceof VElement) {
                  return VNode.create(v2.value0)(new VElement({
                      fingerprint: v2.value1.value0.fingerprint,
                      tagName: v2.value1.value0.tagName,
                      props: v2.value1.value0.props,
                      handlers: Data_Array.snoc(v2.value1.value0.handlers)(new Data_Tuple.Tuple(v, v1)),
                      children: v2.value1.value0.children,
                      specialProps: v2.value1.value0.specialProps,
                      didCreate: v2.value1.value0.didCreate,
                      didUpdate: v2.value1.value0.didUpdate,
                      didDelete: v2.value1.value0.didDelete
                  }));
              };
              return v2;
          };
      };
  };
  var getKey = function (idx, v) {
      var identifier = (function () {
          if (v.value0 instanceof Data_Maybe.Just) {
              return v.value0.value0;
          };
          return Data_Show.show(Data_Show.showInt)(idx);
      })();
      if (v.value1 instanceof VText) {
          return "text_" + identifier;
      };
      if (v.value1 instanceof VElement) {
          return "element_" + (v.value1.value0.tagName + ("_" + identifier));
      };
      if (v.value1 instanceof VComponent) {
          return "component_" + identifier;
      };
      throw new Error("Failed pattern match at Grain.UI (line 431, column 7 - line 437, column 37): " + [ v.value1.constructor.name ]);
  };
  var getChildNode = function (parent, nodeKey, nodeRefs) {
      var mo = Grain_Internal_MMap.unsafeGet(parent, nodeRefs);
      return Grain_Internal_MObject.get(nodeKey, mo);
  };                                                                                  
  var fingerprint = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VComponent) {
              return VNode.create(v1.value0)(new VComponent({
                  fingerprint: new Data_Maybe.Just(v),
                  render: v1.value1.value0.render
              }));
          };
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: new Data_Maybe.Just(v),
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: v1.value1.value0.specialProps,
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var element = function (tagName) {
      return VNode.create(Data_Maybe.Nothing.value)(new VElement({
          fingerprint: Data_Maybe.Nothing.value,
          tagName: tagName,
          props: [  ],
          handlers: [  ],
          children: [  ],
          specialProps: {
              css: Data_Maybe.Nothing.value,
              className: Data_Maybe.Nothing.value
          },
          didCreate: Data_Maybe.Nothing.value,
          didUpdate: Data_Maybe.Nothing.value,
          didDelete: Data_Maybe.Nothing.value
      }));
  };
  var didUpdate = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: v1.value1.value0.specialProps,
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: new Data_Maybe.Just(v),
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var didDelete = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: v1.value1.value0.specialProps,
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: new Data_Maybe.Just(v)
              }));
          };
          return v1;
      };
  };
  var didCreate = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: v1.value1.value0.specialProps,
                  didCreate: new Data_Maybe.Just(v),
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var deleteChildRef = function (v) {
      return Grain_Internal_Ref.modify_(function (v1) {
          return {
              childRef: Data_Maybe.Nothing.value,
              history: v1.history,
              portalHistory: v1.portalHistory,
              rendering: v1.rendering,
              store: v1.store,
              unsubscribers: v1.unsubscribers
          };
      }, v);
  };
  var defaultKey = "__DEFAULT__";
  var useValue = function (dictNonKeyedGrain) {
      return function (proxy) {
          return useValue$prime(dictNonKeyedGrain.Grain0())(proxy)(defaultKey);
      };
  };
  var css = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: {
                      css: new Data_Maybe.Just(v),
                      className: v1.value1.value0.specialProps.className
                  },
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var componentStore = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      return v1.store;
  };
  var componentRenderingLock = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      return v1.rendering;
  };
  var componentRefOf = Grain_Internal_MMap.unsafeGet;
  var replaceComponentRefNode = function (newNode, oldNode, componentRefs) {
      var componentRef = componentRefOf(oldNode, componentRefs);
      unregisterComponentRef(oldNode, componentRefs);
      return registerComponentRef(newNode, componentRef, componentRefs);
  };
  var componentPortalHistory = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      return Grain_Internal_MArray.toArray(v1.portalHistory);
  };
  var componentHistory = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      return Grain_Internal_MArray.toArray(v1.history);
  };
  var componentChildRef = function (v) {
      var v1 = Grain_Internal_Ref.read(v);
      return v1.childRef;
  };
  var component = function (render) {
      return VNode.create(Data_Maybe.Nothing.value)(new VComponent({
          fingerprint: Data_Maybe.Nothing.value,
          render: render
      }));
  };
  var className = function (v) {
      return function (v1) {
          if (v1.value1 instanceof VElement) {
              return VNode.create(v1.value0)(new VElement({
                  fingerprint: v1.value1.value0.fingerprint,
                  tagName: v1.value1.value0.tagName,
                  props: v1.value1.value0.props,
                  handlers: v1.value1.value0.handlers,
                  children: v1.value1.value0.children,
                  specialProps: {
                      css: v1.value1.value0.specialProps.css,
                      className: new Data_Maybe.Just(v)
                  },
                  didCreate: v1.value1.value0.didCreate,
                  didUpdate: v1.value1.value0.didUpdate,
                  didDelete: v1.value1.value0.didDelete
              }));
          };
          return v1;
      };
  };
  var bindRender = Control_Monad_Reader_Trans.bindReaderT(Effect.bindEffect);   
  var applicativeRender = Control_Monad_Reader_Trans.applicativeReaderT(Effect.applicativeEffect);
  var useUpdater = function (dictNonKeyedGrain) {
      return function (proxy) {
          return Control_Bind.bind(bindRender)(useUpdater$prime(dictNonKeyedGrain.Grain0())(proxy))(function (mkUpdater) {
              return Control_Applicative.pure(applicativeRender)(mkUpdater(defaultKey));
          });
      };
  };
  var addPortalHistory = function (vnode, v) {
      var v1 = Grain_Internal_Ref.read(v);
      Grain_Internal_MArray.cons(vnode, v1.portalHistory);
      Grain_Internal_MArray.cutFrom(2, v1.portalHistory);
      return Grain_Internal_MArray.toArray(v1.portalHistory);
  };
  var addComponentUnsubscriber = function (unsubscribe, v) {
      var v1 = Grain_Internal_Ref.read(v);
      return Grain_Internal_MArray.snoc(v1.unsubscribers, unsubscribe);
  };
  var addComponentHistory = function (vnode, v) {
      var v1 = Grain_Internal_Ref.read(v);
      Grain_Internal_MArray.cons(vnode, v1.history);
      Grain_Internal_MArray.cutFrom(2, v1.history);
      return Grain_Internal_MArray.toArray(v1.history);
  };
  var update = function (context, parentNode, nodeKey, v, v1) {
      var target = getChildNode(parentNode, nodeKey, context.nodeRefs);
      return Data_Functor["void"](Effect.functorEffect)(function () {
          return $$eval(context, nodeKey, target, new Data_Maybe.Just(v.value1), new Data_Maybe.Just(v1.value1));
      })();
  };
  var unmountComponent = function (context, nodeKey, target, componentRef) {
      triggerUnsubscriber(componentRef);
      var h = componentHistory(componentRef);
      return Data_Functor["void"](Effect.functorEffect)(function () {
          return diffComponent(context, nodeKey, target, Data_Array.index(h)(0), Data_Maybe.Nothing.value, componentRef);
      })();
  };
  var patch = Data_Lazy.defer(function (v) {
      return {
          getKey: getKey,
          create: create,
          "delete": $$delete,
          update: update,
          move: move
      };
  });
  var move = function (context, parentNode, nodeKey, index, v, v1) {
      var target = getChildNode(parentNode, nodeKey, context.nodeRefs);
      var node = $$eval(context, nodeKey, target, new Data_Maybe.Just(v.value1), new Data_Maybe.Just(v1.value1));
      var ni = Grain_Internal_Util.nodeIndexOf(node);
      var adjustedIdx = (function () {
          var $205 = ni < index;
          if ($205) {
              return index + 1 | 0;
          };
          return index;
      })();
      return Grain_Internal_Util.putChild(adjustedIdx, node, parentNode);
  };
  var getPortal = function (context, componentRef) {
      return function (getPortalRoot) {
          return function (vnode) {
              var updatePortal = function __do() {
                  var parentNode = getPortalRoot();
                  var h = addPortalHistory(vnode, componentRef);
                  return Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
                      context: context,
                      parentNode: parentNode,
                      currents: [ Grain_Internal_Util.byIdx(h, 1) ],
                      nexts: [ vnode ]
                  });
              };
              var deletePortal = function __do() {
                  var parentNode = getPortalRoot();
                  var h = componentPortalHistory(componentRef);
                  Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
                      context: context,
                      parentNode: parentNode,
                      currents: [ Grain_Internal_Util.byIdx(h, 0) ],
                      nexts: [  ]
                  });
                  return unregisterParentNode(parentNode, context.nodeRefs);
              };
              var createPortal = function __do() {
                  var parentNode = getPortalRoot();
                  var h = addPortalHistory(vnode, componentRef);
                  registerParentNode(parentNode, context.nodeRefs);
                  return Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
                      context: context,
                      parentNode: parentNode,
                      currents: [  ],
                      nexts: [ vnode ]
                  });
              };
              return didDelete(Data_Function["const"](deletePortal))(didUpdate(Data_Function["const"](updatePortal))(didCreate(Data_Function["const"](createPortal))(element("span"))));
          };
      };
  };
  var evalComponent = function (context, nodeKey, target, render, componentRef) {
      var targetRef = Grain_Internal_Ref["new"](target);
      var storeSelection = function __do() {
          var local = componentStore(componentRef);
          return {
              global: context.store,
              local: local
          };
      };
      var updateValue = function (dictGrain) {
          return function (proxy) {
              return function (k) {
                  return function (f) {
                      return function __do() {
                          var selection = storeSelection();
                          var store = Grain_Class.which(dictGrain)(proxy)(selection);
                          return Grain_Internal_Store.updateGrain(dictGrain)(proxy, k, f, store);
                      };
                  };
              };
          };
      };
      var selectValue = function (dictGrain) {
          return function (proxy) {
              return function (k) {
                  return function __do() {
                      var selection = storeSelection();
                      var store = Grain_Class.which(dictGrain)(proxy)(selection);
                      return Grain_Internal_Store.readGrain(dictGrain)(proxy, k, store);
                  };
              };
          };
      };
      var portalVNode = getPortal(context, componentRef);
      var listenValue = function (dictGrain) {
          return function (proxy) {
              return function (k) {
                  return function __do() {
                      var selection = storeSelection();
                      var store = Grain_Class.which(dictGrain)(proxy)(selection);
                      Grain_Internal_Store.subscribeGrain(dictGrain)(proxy, k, evaluateRaf, store);
                      return addComponentUnsubscriber(function () {
                          return Grain_Internal_Store.unsubscribeGrain(dictGrain)(proxy, k, evaluateRaf, store);
                      }, componentRef);
                  };
              };
          };
      };
      var evaluateRaf = function __do() {
          var locked = componentRenderingLock(componentRef);
          return Grain_Internal_Util.whenE(!locked, function __do() {
              lockRendering(componentRef);
              return Grain_Internal_Util.raf(Data_Functor["void"](Effect.functorEffect)(evaluate));
          });
      };
      var evaluate = function __do() {
          unlockRendering(componentRef);
          triggerUnsubscriber(componentRef);
          var vnode = runRender(render)({
              selectValue: function (dictGrain) {
                  return selectValue(dictGrain);
              },
              listenValue: function (dictGrain) {
                  return listenValue(dictGrain);
              },
              updateValue: function (dictGrain) {
                  return updateValue(dictGrain);
              },
              portalVNode: portalVNode
          })();
          var h = addComponentHistory(vnode, componentRef);
          var t = Grain_Internal_Ref.read(targetRef);
          var node = diffComponent(context, nodeKey, t, Data_Array.index(h)(1), Data_Array.index(h)(0), componentRef);
          Grain_Internal_Ref.write(new Data_Maybe.Just(node), targetRef);
          return node;
      };
      return evaluate();
  };
  var $$eval = function (context, nodeKey, target, current, next) {
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VText && (next instanceof Data_Maybe.Just && next.value0 instanceof VText)))) {
          Grain_Internal_Util.whenE(current.value0.value0 !== next.value0.value0, function () {
              return Grain_Internal_Util.setTextContent(next.value0.value0, target.value0);
          });
          return target.value0;
      };
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VComponent && (next instanceof Data_Maybe.Just && next.value0 instanceof VComponent)))) {
          var $218 = isDifferent(current.value0.value0, next.value0.value0);
          if ($218) {
              var componentRef = componentRefOf(target.value0, context.componentRefs);
              return evalComponent(context, nodeKey, new Data_Maybe.Just(target.value0), next.value0.value0.render, componentRef);
          };
          return target.value0;
      };
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VElement && (next instanceof Data_Maybe.Just && next.value0 instanceof VElement)))) {
          Grain_Internal_Util.whenE(isDifferent(current.value0.value0, next.value0.value0), (function () {
              var ctx = switchToSvg(next.value0.value0.tagName, context);
              return function __do() {
                  Grain_Internal_Element.updateElement(ctx.isSvg, ctx.styler, current.value0.value0, next.value0.value0, target.value0);
                  Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
                      context: ctx,
                      parentNode: target.value0,
                      currents: current.value0.value0.children,
                      nexts: next.value0.value0.children
                  });
                  return runLifecycle(next.value0.value0.didUpdate, target.value0);
              };
          })());
          return target.value0;
      };
      if (target instanceof Data_Maybe.Nothing && (current instanceof Data_Maybe.Nothing && (next instanceof Data_Maybe.Just && next.value0 instanceof VText))) {
          var txt = Grain_Internal_Util.createTextNode(next.value0.value0);
          return Web_DOM_Text.toNode(txt);
      };
      if (target instanceof Data_Maybe.Nothing && (current instanceof Data_Maybe.Nothing && (next instanceof Data_Maybe.Just && next.value0 instanceof VComponent))) {
          var componentRef = newComponentRef();
          var node = evalComponent(context, nodeKey, Data_Maybe.Nothing.value, next.value0.value0.render, componentRef);
          registerComponentRef(node, componentRef, context.componentRefs);
          return node;
      };
      if (target instanceof Data_Maybe.Nothing && (current instanceof Data_Maybe.Nothing && (next instanceof Data_Maybe.Just && next.value0 instanceof VElement))) {
          var ctx = switchToSvg(next.value0.value0.tagName, context);
          var el = Grain_Internal_Element.allocElement(ctx.isSvg, ctx.styler, next.value0.value0);
          var node = Web_DOM_Element.toNode(el);
          registerParentNode(node, ctx.nodeRefs);
          Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
              context: ctx,
              parentNode: node,
              currents: [  ],
              nexts: next.value0.value0.children
          });
          runLifecycle(next.value0.value0.didCreate, el);
          return node;
      };
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VText && next instanceof Data_Maybe.Nothing))) {
          return target.value0;
      };
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VComponent && next instanceof Data_Maybe.Nothing))) {
          var componentRef = componentRefOf(target.value0, context.componentRefs);
          unmountComponent(context, nodeKey, new Data_Maybe.Just(target.value0), componentRef);
          unregisterComponentRef(target.value0, context.componentRefs);
          return target.value0;
      };
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0 instanceof VElement && next instanceof Data_Maybe.Nothing))) {
          Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
              context: context,
              parentNode: target.value0,
              currents: current.value0.value0.children,
              nexts: [  ]
          });
          runLifecycle(current.value0.value0.didDelete, target.value0);
          unregisterParentNode(target.value0, context.nodeRefs);
          return target.value0;
      };
      return Effect_Exception["throw"]("Renderer can't evaluate vnodes.")();
  };
  var diffComponent = function (context, nodeKey, target, current, next, componentRef) {
      var maybeChildRef = componentChildRef(componentRef);
      if (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && next instanceof Data_Maybe.Just)) {
          if (getKey(0, current.value0) === getKey(0, next.value0)) {
              if (maybeChildRef instanceof Data_Maybe.Just && (current.value0.value1 instanceof VComponent && next.value0.value1 instanceof VComponent)) {
                  return evalComponent(context, nodeKey, new Data_Maybe.Just(target.value0), next.value0.value1.value0.render, maybeChildRef.value0);
              };
              if (maybeChildRef instanceof Data_Maybe.Nothing) {
                  return $$eval(context, nodeKey, new Data_Maybe.Just(target.value0), new Data_Maybe.Just(current.value0.value1), new Data_Maybe.Just(next.value0.value1));
              };
              return Effect_Exception["throw"]("Renderer can't evaluate vnodes.")();
          };
          if (Data_Boolean.otherwise) {
              var oldNode = diffComponent(context, nodeKey, target, current, Data_Maybe.Nothing.value, componentRef);
              var newNode = diffComponent(context, nodeKey, Data_Maybe.Nothing.value, Data_Maybe.Nothing.value, next, componentRef);
              replaceComponentRefNode(newNode, oldNode, context.componentRefs);
              var parent = Grain_Internal_Util.unsafeParentNode(oldNode);
              registerChildNode(parent, nodeKey, newNode, context.nodeRefs);
              Grain_Internal_Util.replaceChild(newNode, oldNode, parent);
              return newNode;
          };
      };
      if (maybeChildRef instanceof Data_Maybe.Nothing && (target instanceof Data_Maybe.Nothing && (current instanceof Data_Maybe.Nothing && (next instanceof Data_Maybe.Just && next.value0.value1 instanceof VComponent)))) {
          var childRef = newChildRef(componentRef);
          return evalComponent(context, nodeKey, Data_Maybe.Nothing.value, next.value0.value1.value0.render, childRef);
      };
      if (maybeChildRef instanceof Data_Maybe.Nothing && (target instanceof Data_Maybe.Nothing && (current instanceof Data_Maybe.Nothing && next instanceof Data_Maybe.Just))) {
          return $$eval(context, nodeKey, Data_Maybe.Nothing.value, Data_Maybe.Nothing.value, new Data_Maybe.Just(next.value0.value1));
      };
      if (maybeChildRef instanceof Data_Maybe.Just && (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && (current.value0.value1 instanceof VComponent && next instanceof Data_Maybe.Nothing)))) {
          deleteChildRef(componentRef);
          unmountComponent(context, nodeKey, new Data_Maybe.Just(target.value0), maybeChildRef.value0);
          return target.value0;
      };
      if (maybeChildRef instanceof Data_Maybe.Nothing && (target instanceof Data_Maybe.Just && (current instanceof Data_Maybe.Just && next instanceof Data_Maybe.Nothing))) {
          return $$eval(context, nodeKey, new Data_Maybe.Just(target.value0), new Data_Maybe.Just(current.value0.value1), Data_Maybe.Nothing.value);
      };
      return Effect_Exception["throw"]("Renderer can't evaluate vnodes.")();
  };
  var $$delete = function (context, parentNode, nodeKey, v) {
      var ctx = switchToDeleting(context);
      var target = getChildNode(parentNode, nodeKey, ctx.nodeRefs);
      var node = $$eval(ctx, nodeKey, target, new Data_Maybe.Just(v.value1), Data_Maybe.Nothing.value);
      return Grain_Internal_Util.whenE(!context.deleting, function __do() {
          unregisterChildNode(parentNode, nodeKey, ctx.nodeRefs);
          return Grain_Internal_Util.removeChild(node, parentNode);
      });
  };
  var create = function (context, parentNode, nodeKey, index, v) {
      var node = $$eval(context, nodeKey, Data_Maybe.Nothing.value, Data_Maybe.Nothing.value, new Data_Maybe.Just(v.value1));
      registerChildNode(parentNode, nodeKey, node, context.nodeRefs);
      return Grain_Internal_Util.putChild(index, node, parentNode);
  };
  var mount = function (vnode) {
      return function (parentNode) {
          return function __do() {
              var store = Grain_Internal_Store.createStore();
              var styler = Grain_Internal_Styler.mountStyler();
              var componentRefs = newComponentRefs();
              var nodeRefs = newNodeRefs();
              registerParentNode(parentNode, nodeRefs);
              return Grain_Internal_Diff.diff(Data_Lazy.force(patch), {
                  context: {
                      isSvg: false,
                      deleting: false,
                      store: store,
                      styler: styler,
                      nodeRefs: nodeRefs,
                      componentRefs: componentRefs
                  },
                  parentNode: parentNode,
                  currents: [  ],
                  nexts: [ vnode ]
              });
          };
      };
  };
  exports["component"] = component;
  exports["element"] = element;
  exports["text"] = text;
  exports["kids"] = kids;
  exports["prop"] = prop;
  exports["handle"] = handle;
  exports["css"] = css;
  exports["useValue"] = useValue;
  exports["useUpdater"] = useUpdater;
  exports["mount"] = mount;
  exports["applicativeRender"] = applicativeRender;
  exports["bindRender"] = bindRender;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Markup.Element"] = $PS["Grain.Markup.Element"] || {};
  var exports = $PS["Grain.Markup.Element"];
  var Grain_UI = $PS["Grain.UI"];         
  var span = Grain_UI.element("span");
  var div = Grain_UI.element("div");
  exports["div"] = div;
  exports["span"] = span;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.Markup.Handler"] = $PS["Grain.Markup.Handler"] || {};
  var exports = $PS["Grain.Markup.Handler"];
  var Grain_UI = $PS["Grain.UI"];                      
  var onClick = Grain_UI.handle("onclick");
  exports["onClick"] = onClick;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Grain.TypeRef"] = $PS["Grain.TypeRef"] || {};
  var exports = $PS["Grain.TypeRef"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                
  var fromConstructor = Unsafe_Coerce.unsafeCoerce;
  exports["fromConstructor"] = fromConstructor;
})(PS);
(function(exports) {
  "use strict";                                               

  exports._querySelector = function (selector) {
    return function (node) {
      return function () {
        return node.querySelector(selector);
      };
    };
  };
})(PS["Web.DOM.ParentNode"] = PS["Web.DOM.ParentNode"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.DOM.ParentNode"] = $PS["Web.DOM.ParentNode"] || {};
  var exports = $PS["Web.DOM.ParentNode"];
  var $foreign = $PS["Web.DOM.ParentNode"];
  var Data_Functor = $PS["Data.Functor"];
  var Data_Nullable = $PS["Data.Nullable"];
  var Effect = $PS["Effect"];
  var querySelector = function (qs) {
      var $0 = Data_Functor.map(Effect.functorEffect)(Data_Nullable.toMaybe);
      var $1 = $foreign["_querySelector"](qs);
      return function ($2) {
          return $0($1($2));
      };
  };
  exports["querySelector"] = querySelector;
})(PS);
(function(exports) {
  "use strict";

  exports.eventListener = function (fn) {
    return function () {
      return function (event) {
        return fn(event)();
      };
    };
  };

  exports.addEventListener = function (type) {
    return function (listener) {
      return function (useCapture) {
        return function (target) {
          return function () {
            return target.addEventListener(type, listener, useCapture);
          };
        };
      };
    };
  };
})(PS["Web.Event.EventTarget"] = PS["Web.Event.EventTarget"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.Event.EventTarget"] = $PS["Web.Event.EventTarget"] || {};
  var exports = $PS["Web.Event.EventTarget"];
  var $foreign = $PS["Web.Event.EventTarget"];
  exports["eventListener"] = $foreign.eventListener;
  exports["addEventListener"] = $foreign.addEventListener;
})(PS);
(function(exports) {
  "use strict";

  exports.window = function () {
    return window;
  };
})(PS["Web.HTML"] = PS["Web.HTML"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.HTML"] = $PS["Web.HTML"] || {};
  var exports = $PS["Web.HTML"];
  var $foreign = $PS["Web.HTML"];
  exports["window"] = $foreign.window;
})(PS);
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.HTML.HTMLDocument"] = $PS["Web.HTML.HTMLDocument"] || {};
  var exports = $PS["Web.HTML.HTMLDocument"];
  var Unsafe_Coerce = $PS["Unsafe.Coerce"];                      
  var toParentNode = Unsafe_Coerce.unsafeCoerce;
  exports["toParentNode"] = toParentNode;
})(PS);
(function(exports) {
  "use strict";

  exports.document = function (window) {
    return function () {
      return window.document;
    };
  };
})(PS["Web.HTML.Window"] = PS["Web.HTML.Window"] || {});
(function($PS) {
  // Generated by purs version 0.14.0
  "use strict";
  $PS["Web.HTML.Window"] = $PS["Web.HTML.Window"] || {};
  var exports = $PS["Web.HTML.Window"];
  var $foreign = $PS["Web.HTML.Window"];
  exports["document"] = $foreign.document;
})(PS);
(function($PS) {
  "use strict";
  $PS["Main"] = $PS["Main"] || {};
  var exports = $PS["Main"];
  var Control_Applicative = $PS["Control.Applicative"];
  var Control_Bind = $PS["Control.Bind"];
  var Css = $PS["Css"];
  var Data_Array = $PS["Data.Array"];
  var Data_Function = $PS["Data.Function"];
  var Data_Functor = $PS["Data.Functor"];
  var Data_Maybe = $PS["Data.Maybe"];
  var Data_Show = $PS["Data.Show"];
  var Data_Unit = $PS["Data.Unit"];
  var Effect = $PS["Effect"];
  var Grain_Class = $PS["Grain.Class"];
  var Grain_Class_LProxy = $PS["Grain.Class.LProxy"];
  var Grain_Markup_Element = $PS["Grain.Markup.Element"];
  var Grain_Markup_Handler = $PS["Grain.Markup.Handler"];
  var Grain_TypeRef = $PS["Grain.TypeRef"];
  var Grain_UI = $PS["Grain.UI"];
  var Web_DOM_Element = $PS["Web.DOM.Element"];
  var Web_DOM_ParentNode = $PS["Web.DOM.ParentNode"];
  var Web_Event_EventTarget = $PS["Web.Event.EventTarget"];
  var Web_HTML = $PS["Web.HTML"];
  var Web_HTML_HTMLDocument = $PS["Web.HTML.HTMLDocument"];
  var Web_HTML_Window = $PS["Web.HTML.Window"];                
  var Section = function (x) {
      return x;
  };
  var TopAside = (function () {
      function TopAside() {

      };
      TopAside.value = new TopAside();
      return TopAside;
  })();
  var LeftAside = (function () {
      function LeftAside() {

      };
      LeftAside.value = new LeftAside();
      return LeftAside;
  })();
  var RightAside = (function () {
      function RightAside() {

      };
      RightAside.value = new RightAside();
      return RightAside;
  })();
  var BotAside = (function () {
      function BotAside() {

      };
      BotAside.value = new BotAside();
      return BotAside;
  })();
  var localGrainSection = new Grain_Class_LProxy.LocalGrain(function (v) {
      return Control_Applicative.pure(Effect.applicativeEffect)({
          rows: 1,
          columns: 1
      });
  }, function (v) {
      return Grain_TypeRef.fromConstructor(Section);
  });
  var section = (function () {
      var panelChild = function (inc) {
          return function (count) {
              return Grain_UI.css(Css.stylesheet([ Css.styles([ Css.style("background-color")("#dedede"), Css.style("min-height")("200px"), Css.style("min-width")("20px") ]) ]))(Grain_Markup_Element.div);
          };
      };
      var panelChildren = function (inc) {
          return function (count) {
              return Data_Array.replicate(count.rows * count.columns | 0)(panelChild(inc)(count));
          };
      };
      var panels = function (inc) {
          return function (count) {
              return Grain_UI.kids(panelChildren(inc)(count))(Grain_UI.prop("main")("")(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.displayGrid, Css.style("grid-area")("main"), Css.style("grid-column-gap")("4px"), Css.style("grid-row-gap")("4px"), Css.style("grid-template-columns")("repeat(" + (Data_Show.show(Data_Show.showInt)(count.columns) + ", 1fr)")) ]), Css.mediaQuery("max-width")("900px")([ Css.styles([ Css.style("grid-template-columns")("1fr") ]) ]) ]))(Grain_Markup_Element.div)));
          };
      };
      var gutter = function (ty) {
          return Grain_UI.css(Css.stylesheet([ Css.styles([ Css.style("grid-area")(ty), Css.style("display")("block") ]) ]))(Grain_Markup_Element.div);
      };
      var asideDivider = function (asideType) {
          return Grain_UI.kids((function () {
              if (asideType instanceof TopAside) {
                  return [ Grain_UI.text("+") ];
              };
              if (asideType instanceof BotAside) {
                  return [ Grain_UI.text("-") ];
              };
              if (asideType instanceof LeftAside) {
                  return [ Grain_UI.text("+") ];
              };
              if (asideType instanceof RightAside) {
                  return [ Grain_UI.text("-") ];
              };
              throw new Error("Failed pattern match at Main (line 246, column 19 - line 250, column 39): " + [ asideType.constructor.name ]);
          })())(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.displayFlex, Css.style("background-color")("#cecece21"), Css.style("margin")("0"), Css.style("box-shadow")("0 0 1px 0px #000"), Css.style("justify-content")("center"), Css.style("align-items")("center"), Css.style("user-select")("none"), (function () {
              if (asideType instanceof LeftAside) {
                  return Css.style("height")("100%");
              };
              if (asideType instanceof RightAside) {
                  return Css.style("height")("100%");
              };
              if (asideType instanceof TopAside) {
                  return Css.style("width")("100%");
              };
              if (asideType instanceof BotAside) {
                  return Css.style("width")("100%");
              };
              throw new Error("Failed pattern match at Main (line 230, column 15 - line 234, column 53): " + [ asideType.constructor.name ]);
          })(), (function () {
              if (asideType instanceof TopAside) {
                  return Css.style("background-color")("#48d69b2e");
              };
              if (asideType instanceof LeftAside) {
                  return Css.style("background-color")("#48d69b2e");
              };
              if (asideType instanceof RightAside) {
                  return Css.style("background-color")("#d648482e");
              };
              if (asideType instanceof BotAside) {
                  return Css.style("background-color")("#d648482e");
              };
              throw new Error("Failed pattern match at Main (line 235, column 15 - line 239, column 69): " + [ asideType.constructor.name ]);
          })() ]), Css.onHover([ Css.style("background-color")("#d2f5ff85"), Css.style("box-shadow")("0 0 1px 1px #4c4c4c52") ]) ]))(Grain_Markup_Element.div));
      };
      var botAside = function (inc) {
          return function (count) {
              return Grain_UI.kids(Data_Array.replicate(count.columns)(asideDivider(BotAside.value)))(Grain_Markup_Handler.onClick(Data_Function["const"](inc(BotAside.value)))(Grain_UI.prop("section-control")("bot")(Grain_UI.prop("bot")("")(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.displayFlex, Css.style("grid-area")("bot"), Css.style("padding")("4px"), Css.style("grid-column-gap")("4px"), Css.style("padding-left")("0"), Css.style("padding-right")("0") ]), Css.mediaQuery("max-width")("900px")([ Css.styles([ Css.style("display")("none") ]) ]) ]))(Grain_Markup_Element.div)))));
          };
      };
      var leftAside = function (inc) {
          return function (count) {
              return Grain_UI.kids(Data_Array.replicate(count.rows)(asideDivider(LeftAside.value)))(Grain_Markup_Handler.onClick(Data_Function["const"](inc(LeftAside.value)))(Grain_UI.prop("section-control")("left")(Grain_UI.prop("left")("")(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.style("grid-area")("left"), Css.style("display")("flex"), Css.style("flex-direction")("column"), Css.style("padding")("0 6px"), Css.style("grid-row-gap")("4px") ]), Css.mediaQuery("max-width")("900px")([ Css.styles([ Css.style("display")("none") ]) ]) ]))(Grain_Markup_Element.div)))));
          };
      };
      var rightAside = function (inc) {
          return function (count) {
              return Grain_UI.kids(Data_Array.replicate(count.rows)(asideDivider(RightAside.value)))(Grain_Markup_Handler.onClick(Data_Function["const"](inc(RightAside.value)))(Grain_UI.prop("section-control")("right")(Grain_UI.prop("right")("")(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.style("grid-area")("right"), Css.style("display")("flex"), Css.style("flex-direction")("column"), Css.style("padding")("0 6px"), Css.style("grid-row-gap")("4px") ]), Css.mediaQuery("max-width")("900px")([ Css.styles([ Css.style("display")("none") ]) ]) ]))(Grain_Markup_Element.div)))));
          };
      };
      var topAside = function (inc) {
          return function (count) {
              return Grain_UI.kids(Data_Array.replicate(count.columns)(asideDivider(TopAside.value)))(Grain_Markup_Handler.onClick(Data_Function["const"](inc(TopAside.value)))(Grain_UI.prop("section-control")("top")(Grain_UI.prop("top")("")(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.displayFlex, Css.style("grid-area")("top"), Css.style("width")("100%"), Css.style("padding")("4px"), Css.style("grid-column-gap")("4px"), Css.style("padding-left")("0"), Css.style("padding-right")("0") ]), Css.mediaQuery("max-width")("900px")([ Css.styles([ Css.style("display")("none") ]) ]) ]))(Grain_Markup_Element.div)))));
          };
      };
      var ui = function (inc) {
          return function (count) {
              return Grain_UI.kids([ gutter("top-left-gutter"), topAside(inc)(count), gutter("top-right-gutter"), leftAside(inc)(count), panels(inc)(count), gutter("bot-left-gutter"), rightAside(inc)(count), botAside(inc)(count), gutter("bot-right-gutter") ])(Grain_UI.prop("section")("")(Grain_UI.css(Css.styles([ Css.displayGrid, Css.style("grid-template-areas")("\"top-left-gutter top top-right-gutter\" \"left main right\" \"bot-left-gutter bot bot-right-gutter\""), Css.style("grid-template-rows")("20px 1fr 20px"), Css.style("grid-template-columns")("20px 1fr 20px"), Css.style("height")("100%"), Css.style("padding")("4px") ]))(Grain_Markup_Element.div)));
          };
      };
      return Grain_UI.component(Control_Bind.bind(Grain_UI.bindRender)(Grain_UI.useValue(Grain_Class.nonKeyedGrainLProxy(localGrainSection))(Grain_Class_LProxy.LProxy.value))(function (v) {
          return Control_Bind.bind(Grain_UI.bindRender)(Grain_UI.useUpdater(Grain_Class.nonKeyedGrainLProxy(localGrainSection))(Grain_Class_LProxy.LProxy.value))(function (updateCount) {
              var inc = function (ty) {
                  return updateCount(function (v1) {
                      if (ty instanceof TopAside) {
                          return Section({
                              rows: v1.rows,
                              columns: (function () {
                                  var $15 = v1.columns >= 4;
                                  if ($15) {
                                      return v1.columns;
                                  };
                                  return v1.columns + 1 | 0;
                              })()
                          });
                      };
                      if (ty instanceof LeftAside) {
                          return Section({
                              rows: (function () {
                                  var $16 = v1.rows >= 20;
                                  if ($16) {
                                      return v1.rows;
                                  };
                                  return v1.rows + 1 | 0;
                              })(),
                              columns: v1.columns
                          });
                      };
                      if (ty instanceof RightAside) {
                          return Section({
                              rows: (function () {
                                  var $17 = v1.rows <= 1;
                                  if ($17) {
                                      return 1;
                                  };
                                  return v1.rows - 1 | 0;
                              })(),
                              columns: v1.columns
                          });
                      };
                      if (ty instanceof BotAside) {
                          return Section({
                              rows: v1.rows,
                              columns: (function () {
                                  var $18 = v1.columns <= 1;
                                  if ($18) {
                                      return 1;
                                  };
                                  return v1.columns - 1 | 0;
                              })()
                          });
                      };
                      throw new Error("Failed pattern match at Main (line 75, column 46 - line 79, column 88): " + [ ty.constructor.name ]);
                  });
              };
              return Control_Applicative.pure(Grain_UI.applicativeRender)(ui(inc)(v));
          });
      }));
  })();
  var extention = (function () {
      var ui = Grain_UI.kids([ Grain_UI.kids([ Grain_UI.text("+") ])(Grain_Markup_Element.span) ])(Grain_UI.css(Css.stylesheet([ Css.styles([ Css.style("display")("flex"), Css.style("justify-content")("center"), Css.style("align-items")("center"), Css.style("background-color")("#cecece21"), Css.style("margin")("4px"), Css.style("box-shadow")("0 0 1px 0px #000"), Css.style("margin-left")("calc(20px + 4px)") ]), Css.onHover([ Css.style("background-color")("#d2f5ff85"), Css.style("box-shadow")("0 0 1px 1px #4c4c4c52") ]) ]))(Grain_Markup_Element.div));
      return Grain_UI.component(Control_Applicative.pure(Grain_UI.applicativeRender)(ui));
  })();
  var view = Grain_UI.kids([ extention, section, extention ])(Grain_UI.css(Css.styles([ Css.style("display")("flex"), Css.style("flex-direction")("column"), Css.style("min-height")("100%") ]))(Grain_Markup_Element.div));
  var main = (function () {
      var f = function (v) {
          return function __do() {
              var maybeEl = Control_Bind.bind(Effect.bindEffect)(Data_Functor.mapFlipped(Effect.functorEffect)(Control_Bind.bind(Effect.bindEffect)(Web_HTML.window)(Web_HTML_Window.document))(Web_HTML_HTMLDocument.toParentNode))(Web_DOM_ParentNode.querySelector("body"))();
              if (maybeEl instanceof Data_Maybe.Nothing) {
                  return Data_Unit.unit;
              };
              if (maybeEl instanceof Data_Maybe.Just) {
                  return Grain_UI.mount(view)(Web_DOM_Element.toNode(maybeEl.value0))();
              };
              throw new Error("Failed pattern match at Main (line 279, column 7 - line 282, column 33): " + [ maybeEl.constructor.name ]);
          };
      };
      return function __do() {
          var win = Web_HTML.window();
          var callback = Web_Event_EventTarget.eventListener(f)();
          return Web_Event_EventTarget.addEventListener("load")(callback)(false)(win)();
      };
  })();
  exports["extention"] = extention;
  exports["Section"] = Section;
  exports["TopAside"] = TopAside;
  exports["LeftAside"] = LeftAside;
  exports["RightAside"] = RightAside;
  exports["BotAside"] = BotAside;
  exports["section"] = section;
  exports["view"] = view;
  exports["main"] = main;
  exports["localGrainSection"] = localGrainSection;
})(PS);
PS["Main"].main();